<!DOCTYPE html>
<!--
Copyright 2017 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<link rel="import" href="/components/paper-dropdown-menu/paper-dropdown-menu.html">

<dom-module id="alerts-section">
  <template>
    <style>
    </style>

    <paper-dropdown-menu id="menu"
                         label="Sheriff or Bug"
                         on-iron-select="onMenuSelect_">
      <paper-listbox class="dropdown-content" selected="{{selectedSheriffIndex}}">
        <template is="dom-repeat" items="[[sheriffList]]">
          <paper-item label="[[item]]" class="sheriff-item">[[item]]</paper-item>
        </template>
      </paper-listbox>
    </paper-dropdown-menu>

    <table>
      <tr>
        <th>heady mcheadface
        </th>
      </tr>
      <template is="dom-repeat" items="[[rows]]">
        <tr>
          <td>celly mccellface
          </td>
        </tr>
      </template>
    </table>
  </template>
</dom-module>

<script>
'use strict';
(function() {
class AlertsSection extends ReduxMixin(Polymer.Element) {
  static get is() { return 'alerts-section'; }

  static get actions() { return window.ACTION_CREATORS; }

  static get properties() {
    return {
      sectionId: {
        type: Number,
      },

      sheriffList: {
        type: Array,
        statePath(state) {
          return state.sections[this.sectionId].sheriffList;
        }
      },

      rows: {
        type: Array,
        statePath(state) {
          return state.sections[this.sectionId].rows;
        }
      }
    };
  }

  onMenuSelect_(e) {
    console.log(e);
    this.dispatch('loadAlerts', this.sectionId);
  }
}
customElements.define(AlertsSection.is, AlertsSection);
})();
</script>
