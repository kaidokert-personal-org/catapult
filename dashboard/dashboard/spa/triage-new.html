<!DOCTYPE html>
<!--
Copyright 2018 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<link rel="import" href="/bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="/bower_components/paper-styles/element-styles/paper-material-styles.html">
<link rel="import" href="/dashboard/spa/cp-input.html">
<link rel="import" href="/dashboard/spa/cp-textarea.html">
<link rel="import" href="/dashboard/spa/element-base.html">

<dom-module id="triage-new">
  <template>
    <style include="paper-material-styles">
      :host {
        @apply --paper-material-elevation-2;
        background: white;
        display: none;
        flex-direction: column;
        min-width: 500px;
        outline: none;
        padding: 16px;
        position: absolute;
        right: 0;
        z-index: 100;
      }
      :host([is-open]) {
        display: flex;
      }
      cp-input {
        margin-bottom: 8px;
      }
      paper-checkbox {
        line-height: 32px;
      }
    </style>

    <cp-input
        placeholder="Summary"
        value="[[summary]]"
        on-change="onSummary_">
    </cp-input>

    <cp-textarea
        autofocus
        id="description"
        placeholder="Description"
        value="[[description]]"
        on-keyup="onDescription_">
    </cp-textarea>

    <template is="dom-repeat" items="[[labels]]" as="label" index-as="labelIndex">
      <paper-checkbox
          checked="[[label.isEnabled]]"
          on-change="onLabel_">
        [[label.name]]
      </paper-checkbox>
    </template>

    <template is="dom-repeat" items="[[components]]" as="component" index-as="componentIndex">
      <paper-checkbox
          checked="[[component.isEnabled]]"
          on-change="onComponent_">
        [[component.name]]
      </paper-checkbox>
    </template>

    <cp-input
        placeholder="Owner"
        value="[[owner]]"
        on-change="onOwner_">
    </cp-input>

    <cp-input
        placeholder="CC"
        value="[[cc]]"
        on-change="onCC_">
    </cp-input>

    <raised-button on-click="onSubmit_">
      Submit
    </raised-button>
  </template>
</dom-module>
<script src="/dashboard/spa/triage-new.js"></script>
