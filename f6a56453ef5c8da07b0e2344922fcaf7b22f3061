{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4590ed18_eb120706",
        "filename": "third_party/typ/typ/expectations_parser.py",
        "patchSetId": 2
      },
      "lineNbr": 278,
      "author": {
        "id": 1536918
      },
      "writtenOn": "2023-06-20T23:04:59Z",
      "side": 1,
      "message": "1. The argument is already a `list`, so the outer `list` is just making a copy unnecessarily.\n2. Avoid recomputing the same list from the previous line? Something like:\n\n```\ntag_list \u003d [t for t in ...]\ntag_set \u003d set(tag_list)\nif len(tag_set) \u003c len(tag_list):\n    raise ParseError(...)\n```",
      "range": {
        "startLine": 278,
        "startChar": 43,
        "endLine": 278,
        "endChar": 87
      },
      "revId": "f6a56453ef5c8da07b0e2344922fcaf7b22f3061",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8b57d7fc_208bba23",
        "filename": "third_party/typ/typ/expectations_parser.py",
        "patchSetId": 2
      },
      "lineNbr": 281,
      "author": {
        "id": 1536918
      },
      "writtenOn": "2023-06-20T23:04:59Z",
      "side": 1,
      "message": "This error message is too specific because tags are not necessarily system-related. For example, `web_tests/TestExpectations` has `# tags: [ Release Debug ]`.\n\nAlso, as a user, I would want to know which tags exactly are duplicated. You can use [`collections.Counter`](https://docs.python.org/3/library/collections.html#collections.Counter) for this.",
      "range": {
        "startLine": 281,
        "startChar": 28,
        "endLine": 281,
        "endChar": 53
      },
      "revId": "f6a56453ef5c8da07b0e2344922fcaf7b22f3061",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d1157a52_6e656cb1",
        "filename": "third_party/typ/typ/expectations_parser.py",
        "patchSetId": 2
      },
      "lineNbr": 309,
      "author": {
        "id": 1536918
      },
      "writtenOn": "2023-06-20T23:04:59Z",
      "side": 1,
      "message": "Missed this case where the tag set is on a single line. This seems like a good opportunity for refactoring, with the `Nothing is allowed after a closing tag bracket` and tag uniqueness checks gating both paths.",
      "range": {
        "startLine": 308,
        "startChar": 20,
        "endLine": 309,
        "endChar": 76
      },
      "revId": "f6a56453ef5c8da07b0e2344922fcaf7b22f3061",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "51795aa9_794ce1d9",
        "filename": "third_party/typ/typ/tests/expectations_parser_test.py",
        "patchSetId": 2
      },
      "lineNbr": 1003,
      "author": {
        "id": 1536918
      },
      "writtenOn": "2023-06-20T23:04:59Z",
      "side": 1,
      "message": "Most editors have a setting to remove trailing whitespace on save. Worth enabling?",
      "range": {
        "startLine": 1003,
        "startChar": 0,
        "endLine": 1003,
        "endChar": 8
      },
      "revId": "f6a56453ef5c8da07b0e2344922fcaf7b22f3061",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}