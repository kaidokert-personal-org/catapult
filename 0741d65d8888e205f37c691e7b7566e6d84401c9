{
  "comments": [
    {
      "key": {
        "uuid": "bc792fe8_17736f56",
        "filename": "tracing/tracing/metrics/metric_map_function.html",
        "patchSetId": 1
      },
      "lineNbr": 79,
      "author": {
        "id": 1116050
      },
      "writtenOn": "2017-10-03T17:41:19Z",
      "side": 1,
      "message": "This condition is a bit hard to parse. I suspect that splitting this into nested conditionals would be easier to read? It is a bit more verbose, but I think this is better?\n\nif (cat.indexOf(\u0027disabled-by-default\u0027) \u003d\u003d\u003d 0)) {\n  if (!categories.included.includes(cat)) {\n    throw new Error(`Trace is missing required category \"${cat}\"`);\n  }\n} else {\n  if (categories.excluded.includes(cat)) {\n    throw new Error(`Trace is missing required category \"${cat}\"`);\n  }\n}\n\nOr, perhaps just:\n\nif (categories.excluded.includes(cat)) {\n  throw new Error(`Trace is missing required category \"${cat}\"`);\n  return;\n}\n\nif (cat.indexOf(\u0027disabled-by-default\u0027) \u0026\u0026 !categories.included.includes(cat)) {\n  throw new Error(`Trace is missing required category \"${cat}\"`);\n}",
      "range": {
        "startLine": 77,
        "startChar": 10,
        "endLine": 79,
        "endChar": 43
      },
      "revId": "0741d65d8888e205f37c691e7b7566e6d84401c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}