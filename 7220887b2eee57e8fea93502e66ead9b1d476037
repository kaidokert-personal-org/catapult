{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c1341443_cd726444",
        "filename": "devil/devil/android/sdk/adb_wrapper.py",
        "patchSetId": 5
      },
      "lineNbr": 37,
      "author": {
        "id": 1170419
      },
      "writtenOn": "2021-01-20T18:17:54Z",
      "side": 1,
      "message": "This is a pretty big hammer. Is there some context as to why we need to increase the timeout universally?",
      "revId": "7220887b2eee57e8fea93502e66ead9b1d476037",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a94e212_8e4ae880",
        "filename": "devil/devil/android/sdk/adb_wrapper.py",
        "patchSetId": 5
      },
      "lineNbr": 37,
      "author": {
        "id": 1286337
      },
      "writtenOn": "2021-01-20T18:25:10Z",
      "side": 1,
      "message": "WFH means many people are hitting timeouts, since ADB is no longer running on the local machine. If you\u0027d prefer, I can just do the lengthening for Install, which was the one that I saw personally timing out.",
      "parentUuid": "c1341443_cd726444",
      "revId": "7220887b2eee57e8fea93502e66ead9b1d476037",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b758c8a8_6bcb5d94",
        "filename": "devil/devil/android/sdk/adb_wrapper.py",
        "patchSetId": 5
      },
      "lineNbr": 37,
      "author": {
        "id": 1170419
      },
      "writtenOn": "2021-01-20T22:33:22Z",
      "side": 1,
      "message": "If we\u0027re just running into issues with install, then I\u0027d prefer if we confined it to that for now.\n\nFor every one execution of these methods on a dev\u0027s workstation, the same thing gets executed 100s and prob 1000s of times on the bots. And a few of those instances are likely running on misbehaving devices that exhaust all retries + timeouts. So my concern is that we\u0027d be increasing the time-to-fail in those worst cases.\n\nThough of course, bots are meant to be abused. So if we have evidence that a flat bump like this will improve dev\u0027s lives, then I wouldn\u0027t be opposed :)",
      "parentUuid": "3a94e212_8e4ae880",
      "revId": "7220887b2eee57e8fea93502e66ead9b1d476037",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ccbdc90_f2c8e5be",
        "filename": "devil/devil/android/sdk/adb_wrapper.py",
        "patchSetId": 5
      },
      "lineNbr": 37,
      "author": {
        "id": 1126674
      },
      "writtenOn": "2021-01-21T02:22:59Z",
      "side": 1,
      "message": "I\u0027ve also hit timeouts from PushChangedFiles(), so would be good to change that as well.\n\nIf we really wanted to be smart about things, I think it\u0027d be great to:\n1) Adjust timeouts based on how many MBs we\u0027re installing / pushing\n2) Adjust timeouts based on whether adb is running locally or via ssh (check if the owner of the adb port is \"adb\" or \"sshd\")\n\nI think just increasing the timeouts on these two might be sufficient though, and it\u0027s sure easy :)",
      "parentUuid": "b758c8a8_6bcb5d94",
      "revId": "7220887b2eee57e8fea93502e66ead9b1d476037",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "653f9e99_3dcc6c2b",
        "filename": "devil/devil/android/sdk/adb_wrapper.py",
        "patchSetId": 5
      },
      "lineNbr": 37,
      "author": {
        "id": 1286337
      },
      "writtenOn": "2021-01-21T18:26:04Z",
      "side": 1,
      "message": "I\u0027ve upped Push + Install and left the rest the same.",
      "parentUuid": "5ccbdc90_f2c8e5be",
      "revId": "7220887b2eee57e8fea93502e66ead9b1d476037",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "32d33941_fbe49e60",
        "filename": "devil/devil/android/sdk/adb_wrapper.py",
        "patchSetId": 5
      },
      "lineNbr": 37,
      "author": {
        "id": 1170419
      },
      "writtenOn": "2021-01-21T18:50:49Z",
      "side": 1,
      "message": "Thanks, lgtm\n\nAlso +1 to everything Andrew said. Especially the bit about it not being as easy ;)",
      "parentUuid": "653f9e99_3dcc6c2b",
      "revId": "7220887b2eee57e8fea93502e66ead9b1d476037",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}