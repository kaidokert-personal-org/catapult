{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f5700474_c53a407c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2021-06-23T20:36:37Z",
      "side": 1,
      "message": "Is there a way I can test this on Pinpoint before submitting? I don\u0027t want to break it again and create another hole where we can\u0027t bisect anything.",
      "revId": "765576a53110b54c8d7a8451f74d9a9176f6e96a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "24d5a5dd_a03de19d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1284623
      },
      "writtenOn": "2021-06-24T06:09:28Z",
      "side": 1,
      "message": "Not really.  We don\u0027t yet have a dev or test deployment that would facilitate that.  Obviously for this kind of change it would be useful to be able to perform more end-to-end tests than we have now ðŸ˜ž\n\nPinpoint does push-on-green, so committing a revert will at least get automatically rolled out relatively promptly, if that\u0027s any comfort.",
      "parentUuid": "f5700474_c53a407c",
      "revId": "765576a53110b54c8d7a8451f74d9a9176f6e96a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a280119d_494d1ced",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2021-06-28T15:44:41Z",
      "side": 1,
      "message": "Ping on this",
      "revId": "765576a53110b54c8d7a8451f74d9a9176f6e96a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d286c2d4_f8e7df05",
        "filename": "dashboard/dashboard/pinpoint/handlers/new_test.py",
        "patchSetId": 4
      },
      "lineNbr": 380,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2021-06-23T20:36:37Z",
      "side": 1,
      "message": "Not seeing a good way to confirm that the fallback target was actually passed in/used, but at least this should give us coverage of the new code?",
      "range": {
        "startLine": 380,
        "startChar": 6,
        "endLine": 380,
        "endChar": 24
      },
      "revId": "765576a53110b54c8d7a8451f74d9a9176f6e96a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3ef232d_e61436ce",
        "filename": "dashboard/dashboard/pinpoint/handlers/new_test.py",
        "patchSetId": 4
      },
      "lineNbr": 380,
      "author": {
        "id": 1284623
      },
      "writtenOn": "2021-06-24T06:09:28Z",
      "side": 1,
      "message": "Something like this maybe?\n\n    response \u003d self.Post(\u0027/api/new\u0027, request, status\u003d200)\n    job \u003d job_module.JobFromId(json.loads(response.body)[\u0027jobId\u0027])\n    self.assertEqual(\n        job.arguments.get(\u0027fallback_target\u0027), \u0027performance_test_suite\u0027)",
      "parentUuid": "d286c2d4_f8e7df05",
      "range": {
        "startLine": 380,
        "startChar": 6,
        "endLine": 380,
        "endChar": 24
      },
      "revId": "765576a53110b54c8d7a8451f74d9a9176f6e96a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7608b8e7_047ffcc9",
        "filename": "dashboard/dashboard/pinpoint/handlers/new_test.py",
        "patchSetId": 4
      },
      "lineNbr": 380,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2021-06-24T18:20:11Z",
      "side": 1,
      "message": "It seems that fallback_target isn\u0027t sent as part of the job, only target (which is still performance_test_suite_android_chrome). Not sure if that implies that this fallback approach doesn\u0027t work in its current implementation or just that this method of testing can\u0027t verify that we eventually use the fallback target.\n\nI think I\u0027m leaning towards the latter since we should only be changing the target after a build is complete, which I believe comes after the job request\n\nhttps://source.chromium.org/chromium/chromium/src/+/main:third_party/catapult/dashboard/dashboard/pinpoint/models/quest/find_isolate.py;l\u003d135?q\u003dfallback_target%20file:pinpoint",
      "parentUuid": "d3ef232d_e61436ce",
      "range": {
        "startLine": 380,
        "startChar": 6,
        "endLine": 380,
        "endChar": 24
      },
      "revId": "765576a53110b54c8d7a8451f74d9a9176f6e96a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1708c382_9b1b0b78",
        "filename": "dashboard/dashboard/pinpoint/models/tasks/performance_bisection.py",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2021-06-23T20:36:37Z",
      "side": 1,
      "message": "It seems like the targets in this file are just to determine if extra runtime args need to be added, so we shouldn\u0027t need any fallback stuff here?",
      "revId": "765576a53110b54c8d7a8451f74d9a9176f6e96a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5d14c531_5834c590",
        "filename": "dashboard/dashboard/pinpoint/models/tasks/performance_bisection.py",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1284623
      },
      "writtenOn": "2021-06-24T06:09:28Z",
      "side": 1,
      "message": "I think that\u0027s probably correct.",
      "parentUuid": "1708c382_9b1b0b78",
      "revId": "765576a53110b54c8d7a8451f74d9a9176f6e96a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}