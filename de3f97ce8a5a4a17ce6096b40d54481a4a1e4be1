{
  "comments": [
    {
      "key": {
        "uuid": "a72ea4fa_757afcb8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1149061
      },
      "writtenOn": "2020-02-12T18:11:59Z",
      "side": 1,
      "message": "It might be nice to break this down by the cases here to understand where the new behavior is improving things. The previous behavior hard-failed, which is nice because it prevented things from getting into a bad and confusing state. Hard fail is nice so that users understand exactly why something isn\u0027t working. Warnings and soft failures are generally bad because users may miss them and dig through lots of confusing and misleading logs before they understand what is going on.\n\nHowever, I believe you must be doing this for a good reason, so let\u0027s break it down by the use cases.\n\n1. In what case is it better to log a warning and then keep running? In other words, when can we actually work properly when we can\u0027t find a valid port?\n\n2. In what case will we now end up logging a warning and then failing later on? What logs would the printed in that case, and would they clearly point a user who is not knowledgeable about the code in question to the root cause?\n\nI\u0027m also wondering if we could separate out those too cases such that (1) does not log a warning and (2) hard fails. WDYT?",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 16,
        "endChar": 0
      },
      "revId": "de3f97ce8a5a4a17ce6096b40d54481a4a1e4be1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e33838b_96fac597",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2020-02-12T18:18:46Z",
      "side": 1,
      "message": "1. The particular case that this applies to is Android tests run on  the Skia team\u0027s devices. The hosts are Raspberry Pis, which don\u0027t seem to be guaranteed to have SSH. AFAIK, the only tests that use this argument are CrOS ones, so the majority of tests won\u0027t care whether this is hit or not.\n\n2. We\u0027ll only end up logging and failing later if the following conditions are met:\n  a. We\u0027re running CrOS tests\n  b. We\u0027re running in remote mode\n  c. --remote-ssh-port is not specified\n  d. SSH is not installed on the host\n\nI could change it so that we hard-fail if we fail to get the SSH port and the browser is cros-chrome if that\u0027s preferable.",
      "parentUuid": "a72ea4fa_757afcb8",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 16,
        "endChar": 0
      },
      "revId": "de3f97ce8a5a4a17ce6096b40d54481a4a1e4be1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e81fe8c_36f4c9e3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1149061
      },
      "writtenOn": "2020-02-12T18:25:10Z",
      "side": 1,
      "message": "Yeah, I think the solution here is to only call socket.getservbyname(\u0027ssh\u0027) if we are trying to run in remote chromeos mode. It\u0027s definitely bad to be calling this and then not using it, especially if we end up spamming the logs with this warning.",
      "parentUuid": "2e33838b_96fac597",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 16,
        "endChar": 0
      },
      "revId": "de3f97ce8a5a4a17ce6096b40d54481a4a1e4be1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}