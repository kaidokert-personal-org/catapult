{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0ef735f7_39654715",
        "filename": "dashboard/go/src/sandwich/sandwich.go",
        "patchSetId": 2
      },
      "lineNbr": 5,
      "author": {
        "id": 1521022
      },
      "writtenOn": "2023-08-02T17:32:20Z",
      "side": 1,
      "message": "nit: verification typo",
      "revId": "d992bb8114552efe04911324d583165ea7abe9a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0992b6b9_9d091f3a",
        "filename": "dashboard/go/src/sandwich/sandwich.go",
        "patchSetId": 2
      },
      "lineNbr": 5,
      "author": {
        "id": 1121710
      },
      "writtenOn": "2023-08-02T17:52:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0ef735f7_39654715",
      "revId": "d992bb8114552efe04911324d583165ea7abe9a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dac52db6_1e957e11",
        "filename": "dashboard/go/src/sandwich/sandwich.go",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 1521022
      },
      "writtenOn": "2023-08-02T17:34:32Z",
      "side": 1,
      "message": "how does the workflow know which chart to check? \n\nMore concretely, given this bisection [1], how does the workflow know to check `thread_total_rendering_cpu_time_per_frame`?\n\n[1] https://pinpoint-dot-chromeperf.appspot.com/job/14bb5cafe60000",
      "revId": "d992bb8114552efe04911324d583165ea7abe9a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49843568_ac6712b8",
        "filename": "dashboard/go/src/sandwich/sandwich.go",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 1121710
      },
      "writtenOn": "2023-08-02T17:52:11Z",
      "side": 1,
      "message": "See line 84",
      "parentUuid": "dac52db6_1e957e11",
      "revId": "d992bb8114552efe04911324d583165ea7abe9a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "28730c4b_436422da",
        "filename": "dashboard/go/src/sandwich/sandwich.go",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 1521022
      },
      "writtenOn": "2023-08-02T18:15:43Z",
      "side": 1,
      "message": "Oops, missed that. Ty.",
      "parentUuid": "49843568_ac6712b8",
      "revId": "d992bb8114552efe04911324d583165ea7abe9a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fc3a265c_2011137a",
        "filename": "dashboard/go/src/sandwich/sandwich.go",
        "patchSetId": 2
      },
      "lineNbr": 117,
      "author": {
        "id": 1521022
      },
      "writtenOn": "2023-08-02T17:32:20Z",
      "side": 1,
      "message": "nit: CreateExecutionRequest typo",
      "revId": "d992bb8114552efe04911324d583165ea7abe9a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "44715031_2e3b09bd",
        "filename": "dashboard/go/src/sandwich/sandwich.go",
        "patchSetId": 2
      },
      "lineNbr": 117,
      "author": {
        "id": 1121710
      },
      "writtenOn": "2023-08-02T17:52:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fc3a265c_2011137a",
      "revId": "d992bb8114552efe04911324d583165ea7abe9a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9fd1421b_ef6b27cb",
        "filename": "dashboard/go/src/sandwich/sandwich.go",
        "patchSetId": 2
      },
      "lineNbr": 125,
      "author": {
        "id": 1521022
      },
      "writtenOn": "2023-08-02T17:32:20Z",
      "side": 1,
      "message": "I kicked off a workflow but when I run the `gcloud workflows` command I get: \n\n``` \ngcloud workflows executions describe projects/62121018386/locations/us-central1/workflows/sandwich-verification-workflow-prod/executions/1ace97ad-c6b5-4bda-8c43-cbed00dd1725\nERROR: gcloud crashed (InvalidSchemaError): Wait commands must include an async section.\n\nIf you would like to report this issue, please run the following command:\n  gcloud feedback\n\nTo check gcloud for common problems, please run the following command:\n  gcloud info --run-diagnostics\n```",
      "revId": "d992bb8114552efe04911324d583165ea7abe9a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54686368_12dd0810",
        "filename": "dashboard/go/src/sandwich/sandwich.go",
        "patchSetId": 2
      },
      "lineNbr": 125,
      "author": {
        "id": 1121710
      },
      "writtenOn": "2023-08-02T17:52:11Z",
      "side": 1,
      "message": "This is what I get when I run that command:\n```\n\u003e gcloud workflows executions describe projects/62121018386/locations/us-central1/workflows/sandwich-verification-workflow-prod/executions/1ace97ad-c6b5-4bda-8c43-cbed00dd1725\nWARNING: The default location(us-central1) was used since the location flag was not specified.\nargument: \u0027{\"anomaly\":{\"benchmark\":\"rendering.desktop\",\"bot_name\":\"mac-laptop_high_end-perf\",\"end_git_hash\":\"500f288f3ca5675c2cead5952c9d6d423296a0f2\",\"measurement\":\"thread_total_rendering_cpu_time_per_frame\",\"start_git_hash\":\"1e5243b0d22ea9655422107ed7c8713f436f60d2\",\"story\":\"webgl_to_texture\",\"target\":\"performance_test_suite\"}}\u0027\nname: projects/62121018386/locations/us-central1/workflows/sandwich-verification-workflow-prod/executions/1ace97ad-c6b5-4bda-8c43-cbed00dd1725\nstartTime: \u00272023-08-02T17:28:51.668604758Z\u0027\nstate: ACTIVE\nstatus:\n  currentSteps:\n  - routine: main\n    step: wait\nworkflowRevisionId: 000002-600\n```\n\nmaybe run `gcloud components update`?",
      "parentUuid": "9fd1421b_ef6b27cb",
      "revId": "d992bb8114552efe04911324d583165ea7abe9a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "86b95556_5a917745",
        "filename": "dashboard/go/src/sandwich/sandwich.go",
        "patchSetId": 2
      },
      "lineNbr": 125,
      "author": {
        "id": 1521022
      },
      "writtenOn": "2023-08-02T18:15:43Z",
      "side": 1,
      "message": "that worked ty, but looks like the workflow failed. Given it\u0027s a 500 error, I\u0027m going to assume it\u0027s related to sandwiching and not this CL. \n\n```\ngcloud workflows executions describe projects/62121018386/locations/us-central1/workflows/sandwich-verification-workflow-prod/executions/1ace97ad-c6b5-4bda-8c43-cbed00dd1725\nWARNING: The default location(us-central1) was used since the location flag was not specified.\nargument: \u0027{\"anomaly\":{\"benchmark\":\"rendering.desktop\",\"bot_name\":\"mac-laptop_high_end-perf\",\"end_git_hash\":\"500f288f3ca5675c2cead5952c9d6d423296a0f2\",\"measurement\":\"thread_total_rendering_cpu_time_per_frame\",\"start_git_hash\":\"1e5243b0d22ea9655422107ed7c8713f436f60d2\",\"story\":\"webgl_to_texture\",\"target\":\"performance_test_suite\"}}\u0027\nduration: 748.936395485s\nendTime: \u00272023-08-02T17:41:20.605000243Z\u0027\nerror:\n  context: |-\n    HTTP server responded with error code 500\n    in step \"postGetCabeAnalysis\", routine \"main\", line: 105\n  payload: \u0027{\"body\":\"500 Internal Server Error: The server encountered an internal\n    error and was unable to complete your request. Either the server is overloaded\n    or there is an error in the application.\",\"code\":500,\"headers\":{\"Alt-Svc\":\"h3\u003d\\\":443\\\";\n    ma\u003d2592000,h3-29\u003d\\\":443\\\"; ma\u003d2592000\",\"Content-Length\":\"181\",\"Content-Type\":\"text/html;\n    charset\u003dutf-8\",\"Date\":\"Wed, 02 Aug 2023 17:41:20 GMT\",\"Server\":\"Google Frontend\",\"X-Cloud-Trace-Context\":\"d642ea1a2349792d53132f9f553f9264;o\u003d1\"},\"message\":\"HTTP\n    server responded with error code 500\",\"tags\":[\"HttpError\"]}\u0027\n  stackTrace:\n    elements:\n    - position:\n        column: \u002722\u0027\n        length: \u002736\u0027\n        line: \u0027105\u0027\n      routine: main\n      step: postGetCabeAnalysis\nname: projects/62121018386/locations/us-central1/workflows/sandwich-verification-workflow-prod/executions/1ace97ad-c6b5-4bda-8c43-cbed00dd1725\nstartTime: \u00272023-08-02T17:28:51.668604758Z\u0027\nstate: FAILED\nstatus:\n  currentSteps:\n  - routine: main\n    step: postGetCabeAnalysis\nworkflowRevisionId: 000002-600\n```",
      "parentUuid": "54686368_12dd0810",
      "revId": "d992bb8114552efe04911324d583165ea7abe9a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "70ee6737_34d91340",
        "filename": "dashboard/go/src/sandwich/sandwich.go",
        "patchSetId": 2
      },
      "lineNbr": 125,
      "author": {
        "id": 1121710
      },
      "writtenOn": "2023-08-02T18:51:15Z",
      "side": 1,
      "message": "That appears to be a separate issue, but I\u0027ll look into that as well.",
      "parentUuid": "86b95556_5a917745",
      "revId": "d992bb8114552efe04911324d583165ea7abe9a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "17f28e4b_7d98a11d",
        "filename": "dashboard/go/src/sandwich/sandwich.go",
        "patchSetId": 2
      },
      "lineNbr": 125,
      "author": {
        "id": 1121710
      },
      "writtenOn": "2023-08-02T18:53:32Z",
      "side": 1,
      "message": "actually, this might have been fixed by https://chromium-review.googlesource.com/c/catapult/+/4736276 - which I don\u0027t believe is pushed to prod yet.  I\u0027ll check on that too",
      "parentUuid": "70ee6737_34d91340",
      "revId": "d992bb8114552efe04911324d583165ea7abe9a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "41f62fba_435b9144",
        "filename": "dashboard/go/src/sandwich/sandwich.go",
        "patchSetId": 2
      },
      "lineNbr": 125,
      "author": {
        "id": 1121710
      },
      "writtenOn": "2023-08-02T22:36:52Z",
      "side": 1,
      "message": "\u003e actually, this might have been fixed by https://chromium-review.googlesource.com/c/catapult/+/4736276 - which I don\u0027t believe is pushed to prod yet.  I\u0027ll check on that too\n\nNope, it\u0027s a different problem.  I tried running just the `cabe analyze` command (to isolate it from the workflows-related stuff) on that pinpoint job, and it failed: \n\n```\nbazelisk run //cabe/go/cmd/cabe -- analyze -pinpoint-job 1644c2ca160000\n...\nE0802 15:31:47.906119 1874820 analyze.go:51] failed to analyze 1644c2ca160000: x[i] and y[i] must be greater than 0 to use log transform, but got x[i]: 0 and y[i]: 0\n...\nError: problem reported by cabe_stats.BerfWilcoxonSignedRankedTest: x[i] and y[i] must be greater than 0 to use log transform, but got x[i]: 0 and y[i]: 0\n```",
      "parentUuid": "17f28e4b_7d98a11d",
      "revId": "d992bb8114552efe04911324d583165ea7abe9a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d263960d_74008d29",
        "filename": "dashboard/go/src/sandwich/sandwich.go",
        "patchSetId": 2
      },
      "lineNbr": 125,
      "author": {
        "id": 1523469
      },
      "writtenOn": "2023-08-02T22:53:45Z",
      "side": 1,
      "message": "Actually this should be an error because log(0) is undefined and values passed to use the default log transform are expected to be \u003e 0",
      "parentUuid": "41f62fba_435b9144",
      "revId": "d992bb8114552efe04911324d583165ea7abe9a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0180c48f_ef3b4136",
        "filename": "dashboard/go/src/sandwich/sandwich.go",
        "patchSetId": 2
      },
      "lineNbr": 125,
      "author": {
        "id": 1521022
      },
      "writtenOn": "2023-08-02T22:56:53Z",
      "side": 1,
      "message": "We have multiple benchmarks that run stories that return 0 or 1. Can we change the logic so that we skip those instead of returning an error?",
      "parentUuid": "d263960d_74008d29",
      "revId": "d992bb8114552efe04911324d583165ea7abe9a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2aebc6c0_ab6ebb95",
        "filename": "dashboard/go/src/sandwich/sandwich.go",
        "patchSetId": 2
      },
      "lineNbr": 125,
      "author": {
        "id": 1121710
      },
      "writtenOn": "2023-08-02T22:57:33Z",
      "side": 1,
      "message": "Filed https://bugs.chromium.org/p/chromium/issues/detail?id\u003d1469724 with more detail. I think cabe is trying to analyze some empty measurements.  The chart/measurement parameter from the verification workflow should tell cabe to limit the analysis to just that (presumably non-empty) value.",
      "parentUuid": "d263960d_74008d29",
      "revId": "d992bb8114552efe04911324d583165ea7abe9a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}