{
  "comments": [
    {
      "key": {
        "uuid": "bc43c353_6033063b",
        "filename": "devil/devil/android/tools/webview_app.py",
        "patchSetId": 7
      },
      "lineNbr": 57,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2019-01-11T01:10:51Z",
      "side": 1,
      "message": "Assuming HasGoogleFeatures() implies the google WebView config, this is fine",
      "range": {
        "startLine": 54,
        "startChar": 6,
        "endLine": 57,
        "endChar": 24
      },
      "revId": "f1a915f751718cda222c09612002d7b98e303973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "22881532_0c87e008",
        "filename": "devil/devil/android/tools/webview_app.py",
        "patchSetId": 7
      },
      "lineNbr": 62,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2019-01-11T01:10:51Z",
      "side": 1,
      "message": "Not strictly correct. \"com.android.webview\" is the default package, but we honestly don\u0027t know what the package is for some non-google AOSP-based ROM.\n\nI think any package is technically valid on \u003c N, but I\u0027m certain other packages may be valid on \u003e\u003d N (for example, CopperheadOS adds \"org.chromium.chrome\" to the list for monochrome benefits)",
      "range": {
        "startLine": 59,
        "startChar": 6,
        "endLine": 62,
        "endChar": 22
      },
      "revId": "f1a915f751718cda222c09612002d7b98e303973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58bf705d_bc722e0c",
        "filename": "devil/devil/android/tools/webview_app.py",
        "patchSetId": 7
      },
      "lineNbr": 62,
      "author": {
        "id": 1266306
      },
      "writtenOn": "2019-01-11T02:54:35Z",
      "side": 1,
      "message": "yea it\u0027s hard to be exactly sure without the feedback given by the set-webview-implementation command, which is only available on N+.  I mean even for google builds, someone could have added additional providers to a custom build like I was doing to get the bisect working.\n\nWhat about making the package name check for \u003c N an optional param.  When True (check the package name with logic above), but if set to False, then the package name check will be skipped?  Do you have a preference to default checking to True or False?\n\nLet me know what you decide and I\u0027ll implement it, thanks.",
      "parentUuid": "22881532_0c87e008",
      "range": {
        "startLine": 59,
        "startChar": 6,
        "endLine": 62,
        "endChar": 22
      },
      "revId": "f1a915f751718cda222c09612002d7b98e303973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1c73319_bfc6dd17",
        "filename": "devil/devil/android/tools/webview_app.py",
        "patchSetId": 7
      },
      "lineNbr": 62,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2019-01-11T04:35:26Z",
      "side": 1,
      "message": "\u003e I mean even for google builds, someone could have added additional providers to a custom build like I was doing to get the bisect working.\n\nTrue, although I think this would fail GTS.\n\n\u003e What about making the package name check for \u003c N an optional param.  When True (check the package name with logic above), but if set to False, then the package name check will be skipped?\n\nI\u0027d lean toward moving the assertions to chromium infra instead of devil (fewer edge cases to worry about, since we control our devices). If that\u0027s not feasible, it\u0027s probably not worth making this overly complex. Maybe just add a comment indicating this isn\u0027t strictly correct, but it\u0027s the best we can do?",
      "parentUuid": "58bf705d_bc722e0c",
      "range": {
        "startLine": 59,
        "startChar": 6,
        "endLine": 62,
        "endChar": 22
      },
      "revId": "f1a915f751718cda222c09612002d7b98e303973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c914152_77a5f48f",
        "filename": "devil/devil/android/tools/webview_app.py",
        "patchSetId": 7
      },
      "lineNbr": 62,
      "author": {
        "id": 1266306
      },
      "writtenOn": "2019-01-11T18:51:18Z",
      "side": 1,
      "message": "Moving it up to chromium infra sounds good, so I\u0027ve removed the package name checking heuristic, but added package name checking as an optional arg so that the caller can decide what to do.",
      "parentUuid": "c1c73319_bfc6dd17",
      "range": {
        "startLine": 59,
        "startChar": 6,
        "endLine": 62,
        "endChar": 22
      },
      "revId": "f1a915f751718cda222c09612002d7b98e303973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}