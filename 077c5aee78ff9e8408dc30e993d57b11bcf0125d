{
  "comments": [
    {
      "key": {
        "uuid": "91230b51_f3ab3b42",
        "filename": "dashboard/dev_dockerfiles/README.md",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 1327821
      },
      "writtenOn": "2019-11-28T23:47:16Z",
      "side": 1,
      "message": "I think this explanation could be better. How about:\n\nWe provide a convenience wrapper script called `run` which sets up the environment in the invocation of `docker-compose`. This script can also be used as an entry point in the docker-compose invocation. See examples below on how to accomplish some common tasks.",
      "revId": "077c5aee78ff9e8408dc30e993d57b11bcf0125d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0954568d_10a9c214",
        "filename": "dashboard/dev_dockerfiles/docker-compose.yml",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1327821
      },
      "writtenOn": "2019-11-28T22:36:17Z",
      "side": 1,
      "message": "Probably not in this CL but maybe in another one, can we make this include `api.yaml`, `upload.yaml` as well?",
      "revId": "077c5aee78ff9e8408dc30e993d57b11bcf0125d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f6b4e335_9ba8de7c",
        "filename": "dashboard/dev_dockerfiles/docker-compose.yml",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1378662
      },
      "writtenOn": "2019-11-28T23:36:34Z",
      "side": 1,
      "message": "This is a part of the fixing. `deploy` script using git command to generate version, which requires you excuting it in the catapult git directory. Maybe I can add some comment here.",
      "parentUuid": "0954568d_10a9c214",
      "revId": "077c5aee78ff9e8408dc30e993d57b11bcf0125d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e41be595_6aa636af",
        "filename": "dashboard/dev_dockerfiles/run",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1327821
      },
      "writtenOn": "2019-11-28T22:36:17Z",
      "side": 1,
      "message": "I feel like it might be good to force this to be explicit and print all the commands before they get executed (maybe `set -x` somewhere) so that it\u0027s not hiding what it\u0027s doing.",
      "revId": "077c5aee78ff9e8408dc30e993d57b11bcf0125d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b787369b_c9f60d7f",
        "filename": "dashboard/dev_dockerfiles/run",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1378662
      },
      "writtenOn": "2019-11-28T23:36:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e41be595_6aa636af",
      "revId": "077c5aee78ff9e8408dc30e993d57b11bcf0125d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "49123138_6ee6e7b0",
        "filename": "dashboard/dev_dockerfiles/run",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 1327821
      },
      "writtenOn": "2019-11-28T22:36:17Z",
      "side": 1,
      "message": "If you\u0027re setting this here, you probably want to reset this to where the working directory was before you changed it after running the `docker-compose` command?",
      "revId": "077c5aee78ff9e8408dc30e993d57b11bcf0125d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3adec781_6398d883",
        "filename": "dashboard/dev_dockerfiles/run",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 1378662
      },
      "writtenOn": "2019-11-28T23:36:34Z",
      "side": 1,
      "message": "It won\u0027t affect you outside shell because it\u0027s in another process. So what\u0027s the reason of switching back?",
      "parentUuid": "49123138_6ee6e7b0",
      "revId": "077c5aee78ff9e8408dc30e993d57b11bcf0125d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f6266ebb_e2b500fb",
        "filename": "dashboard/dev_dockerfiles/run",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 1327821
      },
      "writtenOn": "2019-11-28T23:47:16Z",
      "side": 1,
      "message": "The `cd` command is being executed in the shell running this script. When you do:\n\n`dev_dockerfiles/run ...`\n\nfrom outside this directory, then this script will move into the dev_dockerfiles directory.",
      "parentUuid": "3adec781_6398d883",
      "revId": "077c5aee78ff9e8408dc30e993d57b11bcf0125d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dfeaf784_c33d324a",
        "filename": "dashboard/dev_dockerfiles/run",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 1284623
      },
      "writtenOn": "2019-11-28T23:52:23Z",
      "side": 1,
      "message": "No, it\u0027s a new shell process.  You execute the script, the executable named in the #! line is launched, etc.  (Unless you\u0027re invoking it as “. dev_dockerfiles/run”, i.e. sourcing it into your current shell, but that\u0027d be very weird.)\n\nTry it:\n\n/tmp$ echo \u0027#!/bin/bash\u0027 \u003e foo.sh\n/tmp$ echo \u0027cd /etc\u0027 \u003e\u003e foo.sh\n/tmp$ chmod +x foo.sh\n/tmp$ ./foo.sh\n/tmp$ # Not /etc",
      "parentUuid": "f6266ebb_e2b500fb",
      "revId": "077c5aee78ff9e8408dc30e993d57b11bcf0125d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc7d91c0_ebff9c70",
        "filename": "dashboard/dev_dockerfiles/run",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 1327821
      },
      "writtenOn": "2019-11-29T00:35:39Z",
      "side": 1,
      "message": "Oh, that\u0027s interesting -- yeah, `source dev_dockerfiles/run` will make it weird indeed.",
      "parentUuid": "dfeaf784_c33d324a",
      "revId": "077c5aee78ff9e8408dc30e993d57b11bcf0125d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}