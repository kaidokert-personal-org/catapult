#!/usr/bin/env python
# Copyright (c) 2015 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.
import os
import sys

TOP_LEVEL_DIR = os.path.realpath(os.path.dirname(__file__))
TELEMETRY_DIR = os.path.realpath(os.path.join(TOP_LEVEL_DIR, '..'))
CHROMIUM_SRC = os.path.realpath(os.path.join(TELEMETRY_DIR, '..', '..', '..'))

sys.path.append(TELEMETRY_DIR)
from telemetry import benchmark_runner
from telemetry import project_config


def main():
  default_chrome_root = CHROMIUM_SRC if os.path.isdir(CHROMIUM_SRC) else None
  config = project_config.ProjectConfig(
      top_level_dir=TOP_LEVEL_DIR,
      benchmark_dirs=[os.path.join(TOP_LEVEL_DIR, 'benchmarks')],
      default_chrome_root=default_chrome_root)
  return benchmark_runner.main(config)


if __name__ == '__main__':
  sys.exit(main())
