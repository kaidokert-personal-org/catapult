{
  "comments": [
    {
      "key": {
        "uuid": "67b594b1_ca71b3a8",
        "filename": "dashboard/dashboard/models/alert_group.py",
        "patchSetId": 1
      },
      "lineNbr": 215,
      "author": {
        "id": 1378662
      },
      "writtenOn": "2020-05-12T02:00:07Z",
      "side": 1,
      "message": "If we add `relative_delta` to regression, we can remove all `get_magnitude` (sorry for bad naming)? It\u0027s almost the same thing.\nAlso do you mean `abs(a.absolute_delta /  a.median_before_anomaly)`?",
      "revId": "c6433cd67ba91a4be1e7335e618e20d459c00e1a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bdd97123_4de00ff5",
        "filename": "dashboard/dashboard/models/alert_group.py",
        "patchSetId": 1
      },
      "lineNbr": 217,
      "author": {
        "id": 1284623
      },
      "writtenOn": "2020-05-12T01:48:22Z",
      "side": 1,
      "message": "Nit: The abs() call appears redundant given the \u003e0 test.\n\nAlso, perhaps clearer as:\n\n      a.relative_delta \u003d (a.absolute_delta / float(a.median_before_anomaly))\n                          if a.median_before_anomaly \u003e 0 else 0.0)\n\n?",
      "range": {
        "startLine": 215,
        "startChar": 0,
        "endLine": 217,
        "endChar": 20
      },
      "revId": "c6433cd67ba91a4be1e7335e618e20d459c00e1a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d61c1a89_9f55f257",
        "filename": "dashboard/dashboard/models/alert_group.py",
        "patchSetId": 1
      },
      "lineNbr": 217,
      "author": {
        "id": 1327821
      },
      "writtenOn": "2020-05-12T02:51:29Z",
      "side": 1,
      "message": "Good catch! The condition should be whether a.median_before_anomaly !\u003d 0.\n\nReformatted -- it\u0027s still possible that the median_before_anomaly could be negative, in which case it\u0027d be wrong that the relative change is negative (so we still need the call to abs).\n\nAlso, we need to preserve the infinity (relative delta cannot be 0.0).",
      "parentUuid": "bdd97123_4de00ff5",
      "range": {
        "startLine": 215,
        "startChar": 0,
        "endLine": 217,
        "endChar": 20
      },
      "revId": "c6433cd67ba91a4be1e7335e618e20d459c00e1a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}