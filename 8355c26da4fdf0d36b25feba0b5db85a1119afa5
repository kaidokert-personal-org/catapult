{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5cc921ec_8dda9e77",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1551157
      },
      "writtenOn": "2023-02-16T21:09:49Z",
      "side": 1,
      "message": "PTAL",
      "revId": "8355c26da4fdf0d36b25feba0b5db85a1119afa5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0c634156_2d1ee3d3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1121710
      },
      "writtenOn": "2023-02-16T21:28:58Z",
      "side": 1,
      "message": "there are some python test failures according to https://ci.chromium.org/ui/p/catapult/builders/try/Dashboard%20Linux%20Tryserver/3396/overview :\n \nTests that regressed (failed unexpectedly)\n  pinpoint.handlers.new_test.NewTest.testBrowserOverride\n  pinpoint.handlers.new_test.NewTest.testComparisonMagnitude\n  pinpoint.handlers.new_test.NewTest.testComparisonModeFunctional\n  pinpoint.handlers.new_test.NewTest.testComparisonModePerformance\n  pinpoint.handlers.new_test.NewTest.testComparisonModePerformance_ApplyPatch\n  pinpoint.handlers.new_test.NewTest.testComparisonModeTry\n  pinpoint.handlers.new_test.NewTest.testComparisonModeTry_ApplyBaseAndExperimentPatch\n  pinpoint.handlers.new_test.NewTest.testComparisonModeTry_ApplyBaseAndExperimentPatchLegacy\n  pinpoint.handlers.new_test.NewTest.testComparisonModeTry_ApplyPatch\n  pinpoint.handlers.new_test.NewTest.testComparisonModeTry_BaseAndExpFlags\n  pinpoint.handlers.new_test.NewTest.testComparisonModeTry_BaseNoPatchAndExperimentCommitPatch\n  pinpoint.handlers.new_test.NewTest.testComparisonModeTry_MissingRequiredArgs\n  pinpoint.handlers.new_test.NewTest.testComparisonModeTry_SupportDebugTrace\n  pinpoint.handlers.new_test.NewTest.testComparisonModeTry_SupportDebugTraceWithPatch\n  pinpoint.handlers.new_test.NewTest.testDifferentAttemptCount\n  pinpoint.handlers.new_test.NewTest.testEmptyBug\n  pinpoint.handlers.new_test.NewTest.testExtraArgsSupported\n  pinpoint.handlers.new_test.NewTest.testFallbackTarget\n  pinpoint.handlers.new_test.NewTest.testNewHasBatchId\n  pinpoint.handlers.new_test.NewTest.testNewHasBenchmarkArgs\n  pinpoint.handlers.new_test.NewTest.testNewPostsCreationMessage\n  pinpoint.handlers.new_test.NewTest.testNewUsingExecutionEngine\n  pinpoint.handlers.new_test.NewTest.testNoConfiguration\n  pinpoint.handlers.new_test.NewTest.testPin\n  pinpoint.handlers.new_test.NewTest.testPost\n  pinpoint.handlers.new_test.NewTest.testPriorityIsAString\n  pinpoint.handlers.new_test.NewTest.testQuests\n  pinpoint.handlers.new_test.NewTest.testQuestsString\n  pinpoint.handlers.new_test.NewTest.testUserFromAuth\n  pinpoint.handlers.new_test.NewTest.testUserFromParams\n  pinpoint.handlers.new_test.NewTest.testValidTags\n  pinpoint.handlers.new_test.NewTest.testVrQuest\n  pinpoint.handlers.new_test.NewTest.testWithPatch\n  pinpoint.models.quest.find_isolate_test.BuildTest.testBuildLifecycle\n  pinpoint.models.quest.find_isolate_test.BuildTest.testBuildNoBucket\n  pinpoint.models.quest.find_isolate_test.BuildTest.testBuildSucceedsAndIsolateIsCached",
      "revId": "8355c26da4fdf0d36b25feba0b5db85a1119afa5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3f50055_73954e25",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1181219
      },
      "writtenOn": "2023-02-17T06:20:47Z",
      "side": 1,
      "message": "Have you tried this on staging? I\u0027m trying to understand how this would work. If I select \"v8\" as the project, the builder would check out v8 source code. It needs to build Chrome in order to run benchmarks. But I\u0027m not sure how it can build Chrome with only v8 checked out.\n\nWhat is the customer scenario this intends to be used for?",
      "revId": "8355c26da4fdf0d36b25feba0b5db85a1119afa5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "75e0689c_cb3973e7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1551157
      },
      "writtenOn": "2023-02-17T07:12:25Z",
      "side": 1,
      "message": "Yes, https://funing-dot-pinpoint-dot-chromeperf-stage.uc.r.appspot.com/job/14083d6f000000. Need to change traffic back to my instance for re-running.\n\nI changed the build recipes, for other repos (i.e. not v8, like chromium/src in the example above), it checks out out to the HEADs. At the isolate uploading step, it sets key to be v8@hash with builder info. \n\nCustomer scenario is allowing v8 try/bisect jobs without DEPS change on chromium.",
      "parentUuid": "d3f50055_73954e25",
      "revId": "8355c26da4fdf0d36b25feba0b5db85a1119afa5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5f36ff3b_c42d1f6d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1181219
      },
      "writtenOn": "2023-02-17T18:32:31Z",
      "side": 1,
      "message": "Thanks for the example. I now see how the build works. The problem with this approach is Chromium is sync\u0027ed to HEAD, which is a moving target. If the builders happen to be busy, the start times for control build and treatment build can be many minutes apart, and the HEAD could have moved in between. Any perf changes could be caused by movement of HEAD instead of the v8 differences.\n\nIn addition, Pinpoint caches builds. If one arm is cached but the other arm requires a fresh build, they could be using chromium HEADs that are days apart.\n\nTo make this feature reliable, Pinpoint needs to pick a fixed chromium revision (e.g., HEAD when the job is created) and pass its git hash to the builder.",
      "parentUuid": "75e0689c_cb3973e7",
      "revId": "8355c26da4fdf0d36b25feba0b5db85a1119afa5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa7ac72d_c78ed0d1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1551157
      },
      "writtenOn": "2023-02-17T18:50:39Z",
      "side": 1,
      "message": "Thanks for the info. I believe there\u0027s 1h cache in pinpoint as of now, we are considering making it 1d for less builds. In this case, the chance of difference in chromium builds would be low. Forcing an non-chromium build to pick chromium HEAD is another issue here. I feel the best order is this CL, making HEAD cache longer, then forcing non-chromium build to build, better to check if chromium \u003d\u003d HEAD, but if not, force a build.",
      "parentUuid": "5f36ff3b_c42d1f6d",
      "revId": "8355c26da4fdf0d36b25feba0b5db85a1119afa5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a80c8939_f5d33838",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1181219
      },
      "writtenOn": "2023-02-17T18:56:55Z",
      "side": 1,
      "message": "To the best of my knowledge, the build cache is 58 days (https://source.chromium.org/chromium/chromium/src/+/main:third_party/catapult/dashboard/dashboard/pinpoint/models/isolate.py;l\u003d22).",
      "parentUuid": "fa7ac72d_c78ed0d1",
      "revId": "8355c26da4fdf0d36b25feba0b5db85a1119afa5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f44429d_05d101d0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1551157
      },
      "writtenOn": "2023-02-17T19:00:49Z",
      "side": 1,
      "message": "Ah I mean the commit.CacheCommitInfo https://source.chromium.org/chromium/chromium/src/+/main:third_party/catapult/dashboard/dashboard/pinpoint/models/change/commit.py;drc\u003d123a98b0dd35d3a93992bf6dd9e575e7a2922034;l\u003d279, is half an hour, not isolate cache.",
      "parentUuid": "a80c8939_f5d33838",
      "revId": "8355c26da4fdf0d36b25feba0b5db85a1119afa5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "315fd560_1abb6cb1",
        "filename": "dashboard/dashboard/pinpoint/handlers/new.py",
        "patchSetId": 2
      },
      "lineNbr": 314,
      "author": {
        "id": 1121710
      },
      "writtenOn": "2023-02-16T21:23:34Z",
      "side": 1,
      "message": "are you sure \u0027project\u0027 is always going to be a valid name for a repository?",
      "revId": "8355c26da4fdf0d36b25feba0b5db85a1119afa5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9023dad0_3b879e26",
        "filename": "dashboard/dashboard/pinpoint/handlers/new.py",
        "patchSetId": 2
      },
      "lineNbr": 314,
      "author": {
        "id": 1551157
      },
      "writtenOn": "2023-02-16T21:26:31Z",
      "side": 1,
      "message": "Before this change, is it supposed to be \u0027chromium\u0027 only? Now other repos like \u0027v8\u0027 work.",
      "parentUuid": "315fd560_1abb6cb1",
      "revId": "8355c26da4fdf0d36b25feba0b5db85a1119afa5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}