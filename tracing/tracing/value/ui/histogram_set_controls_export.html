<!DOCTYPE html>
<!--
Copyright 2017 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<link rel="import" href="/tracing/base/base.html">
<link rel="import" href="/tracing/ui/base/base.html">

<dom-module id="tr-v-ui-histogram-set-controls-export">
  <template>
    <table>
      <tr>
        <td><button on-tap="exportRawCsv_">raw CSV</button></td>
        <td><button on-tap="exportMergedCsv_">merged CSV</button></td>
      </tr>
      <tr>
        <td><button on-tap="exportRawJson_">raw JSON</button></td>
        <td><button on-tap="exportMergedJson_">merged JSON</button></td>
      </tr>
    </table>
  </template>
</dom-module>

<script>
'use strict';
tr.exportTo('tr.v.ui', function() {
  Polymer({
    is: 'tr-v-ui-histogram-set-controls-export',

    exportRawCsv_() {
      this.export_(false, 'csv');
    },

    exportRawJson_() {
      this.export_(false, 'json');
    },

    exportMergedCsv_() {
      this.export_(true, 'csv');
    },

    exportMergedJson_() {
      this.export_(true, 'json');
    },

    export_(merged, format) {
      tr.b.dispatchSimpleEvent(this, 'export', true, true, {merged, format});
      this.hideExportMenu_();
    },
  });

  return {
  };
});
</script>
