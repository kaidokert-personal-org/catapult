<!DOCTYPE html>
<!--
Copyright 2016 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<link rel="import" href="/tracing/core/test_utils.html">
<link rel="import" href="/tracing/ui/base/deep_utils.html">
<link rel="import" href="/tracing/value/diagnostics/related_name_map.html">
<link rel="import" href="/tracing/value/ui/diagnostic_span.html">

<script>
'use strict';
tr.b.unittest.testSuite(function() {
  test('instantiate', function() {
    const diagnostic = tr.v.d.RelatedNameMap.fromEntries([['abc', 'def']]);
    const span = tr.v.ui.createDiagnosticSpan(diagnostic);
    assert.strictEqual('TR-V-UI-RELATED-NAME-MAP-SPAN', span.tagName);
    this.addHTMLOutput(span);
    const link = tr.ui.b.findDeepElementMatching(span, 'tr-ui-a-analysis-link');
    assert.strictEqual(link.textContent, 'abc');
    assert.strictEqual(link.selection, ['def']);
  });
});
</script>
