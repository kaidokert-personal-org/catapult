#!/usr/bin/env python
# Copyright 2019 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import argparse
import codecs
import sys
import os

tracing_path = os.path.abspath(os.path.join(
  os.path.dirname(os.path.realpath(__file__)), '..'))
sys.path.append(tracing_path)
from tracing_build import snapdragon2trace


def main():
  parser = argparse.ArgumentParser(description='add Snapdrago profiler data '
                                   'to a trace.', add_help=False)
  parser.add_argument('snapdragon_csv', metavar='SNAPDRAGON_CSV',
                      help='Snapdrago CSV file path (input).')
  parser.add_argument('chrome_trace', metavar='CHROME_TRACE',
                      help='Chrome trace file path (input).')
  parser.add_argument('output', metavar='OUTPUT', help='Output file path.')
  parser.add_argument('-h', '--help', action='help',
                      help='Show this help message and exit.')
  args = parser.parse_args()

  snapdragon2trace.AddSnapdragonProfilerData(
      args.snapdragon_csv, args.chrome_trace, args.output)


if __name__ == '__main__':
  sys.exit(main())
