{
  "comments": [
    {
      "key": {
        "uuid": "a2fc9476_44c45bc4",
        "filename": "dashboard/dashboard/api/api_request_handler.py",
        "patchSetId": 3
      },
      "lineNbr": 101,
      "author": {
        "id": 1116018
      },
      "writtenOn": "2019-07-22T15:03:12Z",
      "side": 1,
      "message": "nit: test",
      "range": {
        "startLine": 101,
        "startChar": 11,
        "endLine": 101,
        "endChar": 25
      },
      "revId": "fb83b055a48f607a90ee9788ba1d9b058c0c57a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c2a0942_4c113c8f",
        "filename": "dashboard/dashboard/api/api_request_handler.py",
        "patchSetId": 3
      },
      "lineNbr": 101,
      "author": {
        "id": 1327821
      },
      "writtenOn": "2019-07-23T01:17:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a2fc9476_44c45bc4",
      "range": {
        "startLine": 101,
        "startChar": 11,
        "endLine": 101,
        "endChar": 25
      },
      "revId": "fb83b055a48f607a90ee9788ba1d9b058c0c57a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "72b419de_7f9a080f",
        "filename": "dashboard/dashboard/common/utils.py",
        "patchSetId": 3
      },
      "lineNbr": 426,
      "author": {
        "id": 1116018
      },
      "writtenOn": "2019-07-22T15:03:12Z",
      "side": 1,
      "message": "Can you add test coverage.",
      "range": {
        "startLine": 426,
        "startChar": 4,
        "endLine": 426,
        "endChar": 19
      },
      "revId": "fb83b055a48f607a90ee9788ba1d9b058c0c57a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e99933fb_910cccca",
        "filename": "dashboard/dashboard/common/utils.py",
        "patchSetId": 3
      },
      "lineNbr": 426,
      "author": {
        "id": 1327821
      },
      "writtenOn": "2019-07-23T01:17:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "72b419de_7f9a080f",
      "range": {
        "startLine": 426,
        "startChar": 4,
        "endLine": 426,
        "endChar": 19
      },
      "revId": "fb83b055a48f607a90ee9788ba1d9b058c0c57a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ebc61d30_1e58ae03",
        "filename": "dashboard/dashboard/pinpoint/handlers/__init__.py",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1116018
      },
      "writtenOn": "2019-07-22T15:03:12Z",
      "side": 1,
      "message": "nit: if these are in alphabetical order, move cancel to top",
      "range": {
        "startLine": 13,
        "startChar": 33,
        "endLine": 13,
        "endChar": 39
      },
      "revId": "fb83b055a48f607a90ee9788ba1d9b058c0c57a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c1f7954_f1dc9d88",
        "filename": "dashboard/dashboard/pinpoint/handlers/__init__.py",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1327821
      },
      "writtenOn": "2019-07-23T01:17:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ebc61d30_1e58ae03",
      "range": {
        "startLine": 13,
        "startChar": 33,
        "endLine": 13,
        "endChar": 39
      },
      "revId": "fb83b055a48f607a90ee9788ba1d9b058c0c57a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d99a9f69_b8513a68",
        "filename": "dashboard/dashboard/pinpoint/handlers/cancel.py",
        "patchSetId": 3
      },
      "lineNbr": 1,
      "author": {
        "id": 1116018
      },
      "writtenOn": "2019-07-22T15:03:12Z",
      "side": 1,
      "message": "2019",
      "range": {
        "startLine": 1,
        "startChar": 12,
        "endLine": 1,
        "endChar": 16
      },
      "revId": "fb83b055a48f607a90ee9788ba1d9b058c0c57a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67670550_dc1df4f8",
        "filename": "dashboard/dashboard/pinpoint/handlers/cancel.py",
        "patchSetId": 3
      },
      "lineNbr": 1,
      "author": {
        "id": 1327821
      },
      "writtenOn": "2019-07-23T01:17:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d99a9f69_b8513a68",
      "range": {
        "startLine": 1,
        "startChar": 12,
        "endLine": 1,
        "endChar": 16
      },
      "revId": "fb83b055a48f607a90ee9788ba1d9b058c0c57a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4fcd3144_0276a9f6",
        "filename": "dashboard/dashboard/pinpoint/handlers/cancel_test.py",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 1116018
      },
      "writtenOn": "2019-07-22T15:03:12Z",
      "side": 1,
      "message": "testCancelRunningJob",
      "range": {
        "startLine": 18,
        "startChar": 6,
        "endLine": 18,
        "endChar": 19
      },
      "revId": "fb83b055a48f607a90ee9788ba1d9b058c0c57a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ea7cbf4_3dfe928a",
        "filename": "dashboard/dashboard/pinpoint/handlers/cancel_test.py",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 1327821
      },
      "writtenOn": "2019-07-23T01:17:12Z",
      "side": 1,
      "message": "Yeah, I\u0027m not sure yet what the semantics for cancelling a running job is yet -- it\u0027s something I was intending to ask you how to handle.\n\nFor now, we\u0027re only allowing cancelling queued jobs to minimise the potential disruption this could cause. I\u0027m also looking at potentially posting an update on associated bugs for jobs that have been started and cancelled.\n\nThere\u0027s a lot more follow-up here that we need to design around, some of which are product decisions that aren\u0027t simple to resolve. For example, if we\u0027re cancelling an already running job, do we go ahead and cancel the Swarming tasks too? Do we alert folks via email (we currently don\u0027t), should we surface the cancellation reason in the UI (I think we should, but \"how\" it looks like isn\u0027t straightforward).\n\nIncrementally, I think we should start with cancelling the Queued jobs first, and then polishing the UI around the display of cancellation information. We can revisit the cancellation of running jobs when we have better answers around these questions. :)",
      "parentUuid": "4fcd3144_0276a9f6",
      "range": {
        "startLine": 18,
        "startChar": 6,
        "endLine": 18,
        "endChar": 19
      },
      "revId": "fb83b055a48f607a90ee9788ba1d9b058c0c57a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "958c39a2_3af451e0",
        "filename": "dashboard/dashboard/pinpoint/models/job.py",
        "patchSetId": 3
      },
      "lineNbr": 482,
      "author": {
        "id": 1116018
      },
      "writtenOn": "2019-07-22T15:03:12Z",
      "side": 1,
      "message": "Does this stop a running job? I can see how setting the cancelled on the scheduler prevents them from starting, but once a job has started, they schedule themselves over and over.\n\nAlso, seems like theres potential for the cancelled flag to get overwritten. If a job is currently running, and then put()\u0027s itself at the end, if you were to cancel during this time, the entity would just get overwritten with the older values.",
      "range": {
        "startLine": 482,
        "startChar": 6,
        "endLine": 482,
        "endChar": 12
      },
      "revId": "fb83b055a48f607a90ee9788ba1d9b058c0c57a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e740f09a_ab6cb43c",
        "filename": "dashboard/dashboard/pinpoint/models/job.py",
        "patchSetId": 3
      },
      "lineNbr": 482,
      "author": {
        "id": 1327821
      },
      "writtenOn": "2019-07-23T01:17:12Z",
      "side": 1,
      "message": "Good point. I\u0027ve changed the scheduler.Cancel function to return whether the cancellation was successful. Because that\u0027s transactional, we can trust that the job instance we have would have been properly cancelled. If it fails to do that, then we can raise an error and avoid the race for updating a job instance.",
      "parentUuid": "958c39a2_3af451e0",
      "range": {
        "startLine": 482,
        "startChar": 6,
        "endLine": 482,
        "endChar": 12
      },
      "revId": "fb83b055a48f607a90ee9788ba1d9b058c0c57a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}