{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4effc99e_e0724956",
        "filename": "skia_bridge/application/perf_api/skia_perf_upload.py",
        "patchSetId": 4
      },
      "lineNbr": 155,
      "author": {
        "id": 1518167
      },
      "writtenOn": "2023-06-01T23:18:52Z",
      "side": 1,
      "message": "You also need to use a_bot_id as the key for the group. Rows may have different bot ID\u0027s, even if they have the same benchmark, commit position, bot.\n\nI suggest modifying a_bot_id like this:\n```\nbot_list \u003d sorted(row[\u0027a_bot_id\u0027])\nbot_list \u003d (\u0027,\u0027).join(bot_list)\n```\nand adding that to the key.",
      "revId": "ee3a6f80f02f1bcea4ce99c629fee3221236778e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5f824de3_196e3823",
        "filename": "skia_bridge/application/perf_api/skia_perf_upload.py",
        "patchSetId": 4
      },
      "lineNbr": 155,
      "author": {
        "id": 1559627
      },
      "writtenOn": "2023-06-02T00:07:35Z",
      "side": 1,
      "message": "Does that need to be in a separate file though? Each row group here translates to 1 json file and this key is just a way to group it (it isn\u0027t really used when writing the file)\nI have updated the links section to show the bot list but not sure it matters as far as grouping rows into a file is concerned",
      "parentUuid": "4effc99e_e0724956",
      "revId": "ee3a6f80f02f1bcea4ce99c629fee3221236778e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ec5a7bef_44fd596a",
        "filename": "skia_bridge/application/perf_api/skia_perf_upload.py",
        "patchSetId": 4
      },
      "lineNbr": 155,
      "author": {
        "id": 1518167
      },
      "writtenOn": "2023-06-02T00:34:31Z",
      "side": 1,
      "message": "You\u0027re grouping rows together that may not necesarilly have the same Bot Id. Since 1 json file only has 1 Bot ID (in links dict), all these rows will show as having the same bot ID. They need to be separate files so that you can set appropriate Bot Id for each group.",
      "parentUuid": "5f824de3_196e3823",
      "revId": "ee3a6f80f02f1bcea4ce99c629fee3221236778e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "13b41116_e9651943",
        "filename": "skia_bridge/application/perf_api/skia_perf_upload.py",
        "patchSetId": 4
      },
      "lineNbr": 156,
      "author": {
        "id": 1518167
      },
      "writtenOn": "2023-06-01T23:18:52Z",
      "side": 1,
      "message": "Maybe also add test_data[\u0027internal_only\u0027] as a key? Just to be safe.",
      "revId": "ee3a6f80f02f1bcea4ce99c629fee3221236778e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a0ea4b00_a5d31f19",
        "filename": "skia_bridge/application/perf_api/skia_perf_upload.py",
        "patchSetId": 4
      },
      "lineNbr": 156,
      "author": {
        "id": 1559627
      },
      "writtenOn": "2023-06-02T00:07:35Z",
      "side": 1,
      "message": "internal_only is an attribute of the test itself and not the row. So I would assume the master/bot/suite combination takes care of that automatically?",
      "parentUuid": "13b41116_e9651943",
      "revId": "ee3a6f80f02f1bcea4ce99c629fee3221236778e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fad7df13_36f1e46e",
        "filename": "skia_bridge/application/perf_api/skia_perf_upload.py",
        "patchSetId": 4
      },
      "lineNbr": 156,
      "author": {
        "id": 1518167
      },
      "writtenOn": "2023-06-02T00:34:31Z",
      "side": 1,
      "message": "My thought here is that just because tests share master/bot/suite, doesn\u0027t mean they have the same internal_only value. Not sure if this is true. A made up example of 2 tests:\n\nChromiumPerf/linux-perf/benchmark1/story1, internal_only\u003dTrue\nChromiumPerf/linux-perf/benchmark1/story2, internal_only\u003dFalse\n\nThese 2 tests share master/bot/suite so they\u0027ll be grouped together. But it\u0027s not necesarily the case that they\u0027re both public. It can cause some non-public data to be uploaded to public instaance.",
      "parentUuid": "a0ea4b00_a5d31f19",
      "revId": "ee3a6f80f02f1bcea4ce99c629fee3221236778e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "085a1f11_789a6c01",
        "filename": "skia_bridge/application/perf_api/skia_perf_upload.py",
        "patchSetId": 4
      },
      "lineNbr": 206,
      "author": {
        "id": 1518167
      },
      "writtenOn": "2023-06-01T23:18:52Z",
      "side": 1,
      "message": "Name should have bot_list, not bot. (e.g. \"1151398-lin-33-g582,lin-44-g582,lin-52-g582,lin-55-g582,lin-61-g582.json\"). Or just omit altogether if we\u0027re using a random_suffix anyway.",
      "revId": "ee3a6f80f02f1bcea4ce99c629fee3221236778e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f49ed0e0_a73f9dd6",
        "filename": "skia_bridge/application/perf_api/skia_perf_upload.py",
        "patchSetId": 4
      },
      "lineNbr": 206,
      "author": {
        "id": 1559627
      },
      "writtenOn": "2023-06-02T00:07:35Z",
      "side": 1,
      "message": "Does the file name matter for ingestion?",
      "parentUuid": "085a1f11_789a6c01",
      "revId": "ee3a6f80f02f1bcea4ce99c629fee3221236778e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f95e446f_c0dcd74f",
        "filename": "skia_bridge/application/perf_api/skia_perf_upload.py",
        "patchSetId": 4
      },
      "lineNbr": 206,
      "author": {
        "id": 1518167
      },
      "writtenOn": "2023-06-02T00:34:31Z",
      "side": 1,
      "message": "Not really. I guess this is fine.",
      "parentUuid": "f49ed0e0_a73f9dd6",
      "revId": "ee3a6f80f02f1bcea4ce99c629fee3221236778e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e778957_15502a71",
        "filename": "skia_bridge/application/perf_api/skia_perf_upload.py",
        "patchSetId": 4
      },
      "lineNbr": 303,
      "author": {
        "id": 1518167
      },
      "writtenOn": "2023-06-01T23:18:52Z",
      "side": 1,
      "message": "Make sure it\u0027s displayed as: \"lin-33-g582, lin-44-g582, lin-52-g582, lin-55-g582, lin-61-g582\". With space in between the bots.",
      "revId": "ee3a6f80f02f1bcea4ce99c629fee3221236778e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1d0c6417_eb7a2e19",
        "filename": "skia_bridge/application/perf_api/skia_perf_upload.py",
        "patchSetId": 4
      },
      "lineNbr": 303,
      "author": {
        "id": 1559627
      },
      "writtenOn": "2023-06-02T00:07:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4e778957_15502a71",
      "revId": "ee3a6f80f02f1bcea4ce99c629fee3221236778e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}