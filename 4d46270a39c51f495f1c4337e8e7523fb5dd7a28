{
  "comments": [
    {
      "key": {
        "uuid": "ef683877_ccf1afa9",
        "filename": "tracing/bin/add_reserved_diagnostics",
        "patchSetId": 4
      },
      "lineNbr": 32,
      "author": {
        "id": 1149061
      },
      "writtenOn": "2019-01-30T21:30:42Z",
      "side": 1,
      "message": "It looks like this script now also chunks up the histogramset as well. Maybe modify this description?",
      "range": {
        "startLine": 32,
        "startChar": 19,
        "endLine": 32,
        "endChar": 64
      },
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b2673e3c_9472bae1",
        "filename": "tracing/bin/add_reserved_diagnostics",
        "patchSetId": 4
      },
      "lineNbr": 32,
      "author": {
        "id": 1115874
      },
      "writtenOn": "2019-01-31T19:13:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ef683877_ccf1afa9",
      "range": {
        "startLine": 32,
        "startChar": 19,
        "endLine": 32,
        "endChar": 64
      },
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "525a42c1_12ea5780",
        "filename": "tracing/bin/add_reserved_diagnostics",
        "patchSetId": 4
      },
      "lineNbr": 46,
      "author": {
        "id": 1149061
      },
      "writtenOn": "2019-01-30T21:30:42Z",
      "side": 1,
      "message": "Please explain the units.\n\nIs this max size in bits? bytes? megabytes?",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 46,
        "endChar": 63
      },
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af468733_8a1f0941",
        "filename": "tracing/bin/add_reserved_diagnostics",
        "patchSetId": 4
      },
      "lineNbr": 46,
      "author": {
        "id": 1115874
      },
      "writtenOn": "2019-01-31T19:13:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "525a42c1_12ea5780",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 46,
        "endChar": 63
      },
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b2b5f848_c3a02882",
        "filename": "tracing/bin/add_reserved_diagnostics",
        "patchSetId": 4
      },
      "lineNbr": 86,
      "author": {
        "id": 1149061
      },
      "writtenOn": "2019-01-30T21:30:42Z",
      "side": 1,
      "message": "I think it would make this easier to read if you called it \"results_json_chunks\". Then it is clear that it is a list of chunks. (I know that sometimes there is only one chunk, but I think that\u0027s okay.)",
      "range": {
        "startLine": 86,
        "startChar": 2,
        "endLine": 86,
        "endChar": 14
      },
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af2f9d9b_3a41280f",
        "filename": "tracing/bin/add_reserved_diagnostics",
        "patchSetId": 4
      },
      "lineNbr": 86,
      "author": {
        "id": 1115874
      },
      "writtenOn": "2019-01-31T19:13:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b2b5f848_c3a02882",
      "range": {
        "startLine": 86,
        "startChar": 2,
        "endLine": 86,
        "endChar": 14
      },
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "64c06841_dfceb809",
        "filename": "tracing/tracing/value/diagnostics/add_reserved_diagnostics.py",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 1116018
      },
      "writtenOn": "2019-01-30T21:31:32Z",
      "side": 1,
      "message": "For some reason had some trouble following the logic in there, would it be simpler liek this?\n\n  results_json \u003d []\n  while histograms:\n    batch_size \u003d avg_batch_size\n    batch_json \u003d DumpsFirst(batch_size)\n\n    while True:\n      if len(batch_json) \u003d\u003d max_size:\n        break\n      elif len(batc_json) \u003c max_size:\n        test_size \u003d batch_size + 1\n      else:\n        test_size \u003d batch_size - 1\n\n      if test_size \u003d\u003d 0:\n        done? seems like it can\u0027t work at this point\n\n      test_json \u003d DumpsFirst(test_size)\n\n      if test_json \u003e max_size and test_size \u003e batch_size:\n        break\n      elif test_json \u003c max_size and test_size \u003c batch_size:\n        break",
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c9f1a3fb_7558c25a",
        "filename": "tracing/tracing/value/diagnostics/add_reserved_diagnostics.py",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 1115874
      },
      "writtenOn": "2019-01-31T19:13:34Z",
      "side": 1,
      "message": "PTAL",
      "parentUuid": "64c06841_dfceb809",
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "297e6f2d_64a5d986",
        "filename": "tracing/tracing/value/diagnostics/add_reserved_diagnostics.py",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 1115874
      },
      "writtenOn": "2019-02-02T20:33:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c9f1a3fb_7558c25a",
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "06bc861b_c2b30f51",
        "filename": "tracing/tracing/value/diagnostics/add_reserved_diagnostics.py",
        "patchSetId": 4
      },
      "lineNbr": 135,
      "author": {
        "id": 1149061
      },
      "writtenOn": "2019-01-30T21:30:42Z",
      "side": 1,
      "message": "I\u0027m confused about the \"+\" here. Is that valid python? Maybe just remove that \"+\"?",
      "range": {
        "startLine": 135,
        "startChar": 11,
        "endLine": 135,
        "endChar": 13
      },
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cfde708e_306f8e92",
        "filename": "tracing/tracing/value/diagnostics/add_reserved_diagnostics.py",
        "patchSetId": 4
      },
      "lineNbr": 135,
      "author": {
        "id": 1115874
      },
      "writtenOn": "2019-01-31T19:13:34Z",
      "side": 1,
      "message": "https://stackoverflow.com/questions/16819023/whats-the-purpose-of-the-pos-unary-operator-in-python\nIt\u0027s a holdover from C, when it was added for readability to improve symmetry for situations like this. It doesn\u0027t serve any purpose except readability, but it apparently didn\u0027t do that, so I\u0027ll remove it.",
      "parentUuid": "06bc861b_c2b30f51",
      "range": {
        "startLine": 135,
        "startChar": 11,
        "endLine": 135,
        "endChar": 13
      },
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c3628c8_63db2c6d",
        "filename": "tracing/tracing/value/diagnostics/add_reserved_diagnostics.py",
        "patchSetId": 4
      },
      "lineNbr": 135,
      "author": {
        "id": 1115874
      },
      "writtenOn": "2019-02-02T20:33:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cfde708e_306f8e92",
      "range": {
        "startLine": 135,
        "startChar": 11,
        "endLine": 135,
        "endChar": 13
      },
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fd12b38c_dcaa8a7a",
        "filename": "tracing/tracing/value/diagnostics/add_reserved_diagnostics.py",
        "patchSetId": 4
      },
      "lineNbr": 142,
      "author": {
        "id": 1149061
      },
      "writtenOn": "2019-01-30T21:30:42Z",
      "side": 1,
      "message": "if we have a max_size, then we can\u0027t really return a chunk that is larger than that size. It would make more sense to raise an exception.",
      "range": {
        "startLine": 141,
        "startChar": 8,
        "endLine": 142,
        "endChar": 15
      },
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "768f8962_055cd1ba",
        "filename": "tracing/tracing/value/diagnostics/add_reserved_diagnostics.py",
        "patchSetId": 4
      },
      "lineNbr": 142,
      "author": {
        "id": 1115874
      },
      "writtenOn": "2019-01-31T19:13:34Z",
      "side": 1,
      "message": "That makes theoretical sense, but I\u0027m not sure if that\u0027s what we\u0027ll actually want in production, at least at first. The dashboard OOMs at *about* 2GB, but that doesn\u0027t always correlate exactly with a HistogramSet JSON size, so I think we\u0027ll want to experiment with max_size a bit.\nI added a \u0027strict\u0027 option to Batch to make it easy to flip.",
      "parentUuid": "fd12b38c_dcaa8a7a",
      "range": {
        "startLine": 141,
        "startChar": 8,
        "endLine": 142,
        "endChar": 15
      },
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "70975b6c_ea5cd6f9",
        "filename": "tracing/tracing/value/diagnostics/add_reserved_diagnostics.py",
        "patchSetId": 4
      },
      "lineNbr": 142,
      "author": {
        "id": 1115874
      },
      "writtenOn": "2019-02-02T20:33:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "768f8962_055cd1ba",
      "range": {
        "startLine": 141,
        "startChar": 8,
        "endLine": 142,
        "endChar": 15
      },
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfb379c9_40f3318b",
        "filename": "tracing/tracing/value/diagnostics/add_reserved_diagnostics.py",
        "patchSetId": 4
      },
      "lineNbr": 146,
      "author": {
        "id": 1149061
      },
      "writtenOn": "2019-01-30T21:30:42Z",
      "side": 1,
      "message": "this can be\n\nelif if batch_size \u003e\u003d len(histograms):",
      "range": {
        "startLine": 145,
        "startChar": 6,
        "endLine": 146,
        "endChar": 10
      },
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "610eec78_797fdf2a",
        "filename": "tracing/tracing/value/diagnostics/add_reserved_diagnostics.py",
        "patchSetId": 4
      },
      "lineNbr": 146,
      "author": {
        "id": 1115874
      },
      "writtenOn": "2019-01-31T19:13:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dfb379c9_40f3318b",
      "range": {
        "startLine": 145,
        "startChar": 6,
        "endLine": 146,
        "endChar": 10
      },
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "451602d0_6ac60b5d",
        "filename": "tracing/tracing/value/diagnostics/add_reserved_diagnostics.py",
        "patchSetId": 4
      },
      "lineNbr": 148,
      "author": {
        "id": 1149061
      },
      "writtenOn": "2019-01-30T21:30:42Z",
      "side": 1,
      "message": "nit: The newline after this made me confused and think that the stuff that came after wasn\u0027t inside the while loop. Maybe remove this new line?",
      "range": {
        "startLine": 147,
        "startChar": 14,
        "endLine": 148,
        "endChar": 0
      },
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "82518dbc_544c4cad",
        "filename": "tracing/tracing/value/diagnostics/add_reserved_diagnostics.py",
        "patchSetId": 4
      },
      "lineNbr": 148,
      "author": {
        "id": 1115874
      },
      "writtenOn": "2019-01-31T19:13:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "451602d0_6ac60b5d",
      "range": {
        "startLine": 147,
        "startChar": 14,
        "endLine": 148,
        "endChar": 0
      },
      "revId": "4d46270a39c51f495f1c4337e8e7523fb5dd7a28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}