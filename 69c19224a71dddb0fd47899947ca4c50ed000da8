{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9ec87573_698c8bed",
        "filename": "dashboard/dashboard/pinpoint/models/compare/thresholds.py",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 1368332
      },
      "writtenOn": "2023-08-30T16:20:28Z",
      "side": 0,
      "message": "Just for FYI:\n\nThe default magnitude for functional is 0.5. So int(0.5*10)-1 \u003d 4, and since array indexes start at 0, the 4th index would be equivalent to the values at 0.5.",
      "range": {
        "startLine": 43,
        "startChar": 22,
        "endLine": 43,
        "endChar": 45
      },
      "revId": "69c19224a71dddb0fd47899947ca4c50ed000da8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c3298c6f_76728418",
        "filename": "dashboard/dashboard/pinpoint/models/compare/thresholds.py",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 1521022
      },
      "writtenOn": "2023-08-30T16:26:38Z",
      "side": 0,
      "message": "I believe this formulation works for functional thresholds because the magnitude starts at 0.1. The easiest way to fix this was probably to just change the performance definition from \n\n`magnitude_index \u003d int(magnitude * 10) - 5`\n\nto \n\n`magnitude_index \u003d int(magnitude * 10) - 3`\n\nI\u0027m happy to do that instead.",
      "parentUuid": "9ec87573_698c8bed",
      "range": {
        "startLine": 43,
        "startChar": 22,
        "endLine": 43,
        "endChar": 45
      },
      "revId": "69c19224a71dddb0fd47899947ca4c50ed000da8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "33085cd4_f5a5f80d",
        "filename": "dashboard/dashboard/pinpoint/models/compare/thresholds.py",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 1181219
      },
      "writtenOn": "2023-08-30T17:37:52Z",
      "side": 0,
      "message": "For the record, the error in performance magnitude index was introduced by https://crrev.com/c/2050070, which changed the lowest magnitude in _HIGH_THRESHOLDS_PERFORMANCE from 0.5 to 0.3, but forgot to do the corresponding change in calculating magnitude_index.",
      "parentUuid": "c3298c6f_76728418",
      "range": {
        "startLine": 43,
        "startChar": 22,
        "endLine": 43,
        "endChar": 45
      },
      "revId": "69c19224a71dddb0fd47899947ca4c50ed000da8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "77414250_7f7490fb",
        "filename": "dashboard/dashboard/pinpoint/models/compare/thresholds.py",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 1368332
      },
      "writtenOn": "2023-08-30T20:57:03Z",
      "side": 0,
      "message": "It sounds like we may have been using the wrong index since then. I\u0027d be interested (if we have the data) to know what impact this would\u0027ve had from that change till now.",
      "parentUuid": "33085cd4_f5a5f80d",
      "range": {
        "startLine": 43,
        "startChar": 22,
        "endLine": 43,
        "endChar": 45
      },
      "revId": "69c19224a71dddb0fd47899947ca4c50ed000da8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}