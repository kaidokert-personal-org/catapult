{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2b266691_c3b7606c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1002869
      },
      "writtenOn": "2024-04-23T14:43:40Z",
      "side": 1,
      "message": "Hi Ben,\n\nThis CL uses the binary uploaded in https://crrev.com/c/5473542. It needs to wait for upstream to land before landing.\n\nThanks,\nPeter",
      "revId": "c78dd0503229d03281e65d7b23341cd2dfbd411c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "af014276_28e28fa5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1170419
      },
      "writtenOn": "2024-04-23T22:52:07Z",
      "side": 1,
      "message": "s/me/brian/ given https://chromium.googlesource.com/catapult/+/c78dd0503229d03281e65d7b23341cd2dfbd411c/telemetry/OWNERS#5",
      "revId": "c78dd0503229d03281e65d7b23341cd2dfbd411c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e7dc2e2_5e24cf14",
        "filename": "telemetry/telemetry/internal/backends/chrome/minidump_symbolizer.py",
        "patchSetId": 1
      },
      "lineNbr": 120,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2024-04-23T23:10:14Z",
      "side": 1,
      "message": "Do you know:\n\n1. If this properly finds locally built versions of the binary?\n2. If `dump_syms` is correctly listed as a dependency for relevant tests?\n\nGiven that you said \"Previously it would fail to locate dump_syms in the build output directory and fail symbolization\", I suspect at least one of those isn\u0027t true.\n\nWhile it\u0027s good to have the uploaded version as a fallback, we really want to be using the local version if at all possible. IIRC, I originally added `LocalFirstBinaryManager` specifically because we had very hard to diagnose symbolization issues when using out-of-date binaries.",
      "range": {
        "startLine": 119,
        "startChar": 6,
        "endLine": 120,
        "endChar": 22
      },
      "revId": "c78dd0503229d03281e65d7b23341cd2dfbd411c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72aac8ee_e007d4fa",
        "filename": "telemetry/telemetry/internal/backends/chrome/minidump_symbolizer.py",
        "patchSetId": 1
      },
      "lineNbr": 120,
      "author": {
        "id": 1002869
      },
      "writtenOn": "2024-04-24T18:28:42Z",
      "side": 1,
      "message": "Sorry my previous CL description can be easily misunderstood, I\u0027ve updated it. It was not that `dump_syms` is in the output directory and not found, but it\u0027s actually not being built. For bots that don\u0027t build it explicitly, `dump_syms` won\u0027t exist in their output directory and so symbolization would always fail. In those cases, where `dump_syms` isn\u0027t available locally at all, it is nice to have some symbolization than none at all.\n\nI\u0027ve verified that for my current CL, if there is a local copy of `dump_syms` in the output directory, then `LocalFirstBinaryManager` is able to find it and pass the correct path to the one in the output directory instead of downloading it to `telemetry/bin`. Thanks for adding `LocalFirstBinaryManager`.\n\nSince you recommend that we keep building it where we could, I\u0027ll abandon https://crrev.com/c/5477688 then and keep the orderfile bot building `dump_syms` explicitly.",
      "parentUuid": "4e7dc2e2_5e24cf14",
      "range": {
        "startLine": 119,
        "startChar": 6,
        "endLine": 120,
        "endChar": 22
      },
      "revId": "c78dd0503229d03281e65d7b23341cd2dfbd411c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "96b414c8_b28845c2",
        "filename": "telemetry/telemetry/internal/backends/chrome/minidump_symbolizer.py",
        "patchSetId": 1
      },
      "lineNbr": 120,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2024-04-24T18:41:18Z",
      "side": 1,
      "message": "Ack, this CL LGTM then.\n\nIt sounds like some dependencies aren\u0027t set up properly in BUILD.gn files, though. You shouldn\u0027t need to build `dump_syms` directly, any target that relies on Telemetry (and by extension, `generate_breakpad_symbols.py`) should have `dump_syms` listed as a data dependency.",
      "parentUuid": "72aac8ee_e007d4fa",
      "range": {
        "startLine": 119,
        "startChar": 6,
        "endLine": 120,
        "endChar": 22
      },
      "revId": "c78dd0503229d03281e65d7b23341cd2dfbd411c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8a295890_b868f42c",
        "filename": "telemetry/telemetry/internal/backends/chrome/minidump_symbolizer.py",
        "patchSetId": 1
      },
      "lineNbr": 120,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2024-04-24T18:44:28Z",
      "side": 1,
      "message": "For context, here\u0027s how the GPU Telemetry-based tests have it set up:\n\n```\nbsheedy@neuro:/usr/local/google/code/clankium/src$ gn path out/gpu //chrome/test:telemetry_gpu_integration_test third_party/breakpad:dump_syms --with-data --all\n//chrome/test:telemetry_gpu_integration_test --[data]--\u003e\n//tools/perf/chrome_telemetry_build:telemetry_chrome_test --[data]--\u003e\n//third_party/breakpad:dump_syms\n\n//chrome/test:telemetry_gpu_integration_test --[data]--\u003e\n//tools/perf/chrome_telemetry_build:telemetry_chrome_test --[data]--\u003e\n//tools/perf/chrome_telemetry_build:telemetry_chrome_test_without_chrome --[data]--\u003e\n//third_party/breakpad:dump_syms\n\n2 \"interesting\" paths found. 0 of them are public.\n```",
      "parentUuid": "96b414c8_b28845c2",
      "range": {
        "startLine": 119,
        "startChar": 6,
        "endLine": 120,
        "endChar": 22
      },
      "revId": "c78dd0503229d03281e65d7b23341cd2dfbd411c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}