{
  "comments": [
    {
      "key": {
        "uuid": "1289d286_b7a6a6e5",
        "filename": "tracing/tracing/metrics/v8/wasm_metric.html",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1177599
      },
      "writtenOn": "2020-07-02T08:14:32Z",
      "side": 1,
      "message": "I wonder if it would be a bit cleaner to just use \"wasm.StartStreamingCompilation\" as the start event? If we assume that network speed is not an issue (or we decide to ignore any network latency), then I think we should not use these network-based events at all.",
      "revId": "aab4e296054642076400e4d5aeb1cea4d2085032",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "14bcab94_24de934f",
        "filename": "tracing/tracing/metrics/v8/wasm_metric.html",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2020-07-02T09:57:24Z",
      "side": 1,
      "message": "Hmm, I did not pick wasm.StartStreamingCompilation because in the trace I recorded on my laptop there is a 4ms gap between wasm.StartStreamingCompilation and the first wasm.OnBytesReceived. I admit though, maybe it would be better to use wasm.StartStreamingCompilation, especially if we also introduce another metric that measures the time covered by wasm.ExecuteCompilation events between wasm.StartStreamingCompilation and wasm.BaselineFinished. Wdyt?",
      "parentUuid": "1289d286_b7a6a6e5",
      "revId": "aab4e296054642076400e4d5aeb1cea4d2085032",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e5005d8e_984e2809",
        "filename": "tracing/tracing/metrics/v8/wasm_metric.html",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1177599
      },
      "writtenOn": "2020-07-02T10:47:48Z",
      "side": 1,
      "message": "Yes, I hadn\u0027t brought this up if I wouldn\u0027t think that it\u0027s a bit cleaner to only use the \"compilation progress marker events\" we explicitly emit.",
      "parentUuid": "14bcab94_24de934f",
      "revId": "aab4e296054642076400e4d5aeb1cea4d2085032",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "048ae2bf_cc2e9370",
        "filename": "tracing/tracing/metrics/v8/wasm_metric.html",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1145189
      },
      "writtenOn": "2020-07-02T10:54:33Z",
      "side": 1,
      "message": "I just wanted to mention that when we are running benchmarks, we get the resources from the wpr proxy and usually find them to be faster than getting them from real network latencies.",
      "parentUuid": "14bcab94_24de934f",
      "revId": "aab4e296054642076400e4d5aeb1cea4d2085032",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b33618dc_8a35f46d",
        "filename": "tracing/tracing/metrics/v8/wasm_metric.html",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2020-07-13T14:11:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "048ae2bf_cc2e9370",
      "revId": "aab4e296054642076400e4d5aeb1cea4d2085032",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "464d9e7a_a6f4875a",
        "filename": "tracing/tracing/metrics/v8/wasm_metric.html",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1177599
      },
      "writtenOn": "2020-07-02T08:14:32Z",
      "side": 1,
      "message": "Looks like this could be expressed as a reduction (assuming that {bytesReceivedEvents} is an array):\nlet compilationStart \u003d bytesReceivedEvents.reduce(Math.min, Infinity);\n\nIf it\u0027s not an array already, you could use {Array.from(bytesReceivedEvents)} to make it one.",
      "revId": "aab4e296054642076400e4d5aeb1cea4d2085032",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2acb9e4e_fb39ac17",
        "filename": "tracing/tracing/metrics/v8/wasm_metric.html",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1177599
      },
      "writtenOn": "2020-07-02T08:17:49Z",
      "side": 1,
      "message": "Sorry, just realize that this is not quite correct, since we need to take the \"start\" property of the events. That makes it a bit more verbose:\n\nlet compilationStart \u003d bytesReceivedEvents.reduce((cur, event) \u003d\u003e Math.min(cur, event.start), Infinity);",
      "parentUuid": "464d9e7a_a6f4875a",
      "revId": "aab4e296054642076400e4d5aeb1cea4d2085032",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "02fe1d45_ddde914c",
        "filename": "tracing/tracing/metrics/v8/wasm_metric.html",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2020-07-13T14:11:43Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "2acb9e4e_fb39ac17",
      "revId": "aab4e296054642076400e4d5aeb1cea4d2085032",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ffe38e68_a027749c",
        "filename": "tracing/tracing/metrics/v8/wasm_metric_test.html",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 1145189
      },
      "writtenOn": "2020-07-02T10:54:33Z",
      "side": 1,
      "message": "Maybe also another test when there is no BaselineFinished event at all or no wasm.OnBytesReceived.",
      "revId": "aab4e296054642076400e4d5aeb1cea4d2085032",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9be3a30e_d7a198f7",
        "filename": "tracing/tracing/metrics/v8/wasm_metric_test.html",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 1141154
      },
      "writtenOn": "2020-07-13T14:11:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ffe38e68_a027749c",
      "revId": "aab4e296054642076400e4d5aeb1cea4d2085032",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}