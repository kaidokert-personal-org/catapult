{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c57ae891_da3c71aa",
        "filename": "dashboard/dashboard/elements/chart-container.html",
        "patchSetId": 4
      },
      "lineNbr": 2337,
      "author": {
        "id": 1181219
      },
      "writtenOn": "2022-03-11T07:24:45Z",
      "side": 1,
      "message": "Should reset botId here. Otherwise, if user looks at a revision with bot ID, but then look at another revision without bot ID, the bot ID from first revision will still be displayed.",
      "range": {
        "startLine": 2337,
        "startChar": 4,
        "endLine": 2337,
        "endChar": 16
      },
      "revId": "786e1f84be05b71450c65dc21ac04b17a018d2be",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bd51a1e1_1ed79630",
        "filename": "dashboard/dashboard/elements/chart-container.html",
        "patchSetId": 4
      },
      "lineNbr": 2337,
      "author": {
        "id": 1521022
      },
      "writtenOn": "2022-03-11T23:03:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c57ae891_da3c71aa",
      "range": {
        "startLine": 2337,
        "startChar": 4,
        "endLine": 2337,
        "endChar": 16
      },
      "revId": "786e1f84be05b71450c65dc21ac04b17a018d2be",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e2efad7_dd7dc40e",
        "filename": "dashboard/dashboard/elements/chart-tooltip.html",
        "patchSetId": 4
      },
      "lineNbr": 88,
      "author": {
        "id": 1181219
      },
      "writtenOn": "2022-03-11T00:10:46Z",
      "side": 1,
      "message": "Should I be able to see bot IDs today? Right now, I\u0027m seeing \"Test Bot(s):\" label on perf dashboard, but no bots are listed. This brings up two issues:\n* Recent results should already have bot IDs. Why aren\u0027t they showing up?\n* If bot IDs are indeed missing, shouldn\u0027t that cause hidden be set to true, and hide this span? Why do I still see \"Test Bot(s):\"?",
      "range": {
        "startLine": 88,
        "startChar": 12,
        "endLine": 88,
        "endChar": 66
      },
      "revId": "786e1f84be05b71450c65dc21ac04b17a018d2be",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ccdf863_f0d57c26",
        "filename": "dashboard/dashboard/elements/chart-tooltip.html",
        "patchSetId": 4
      },
      "lineNbr": 88,
      "author": {
        "id": 1521022
      },
      "writtenOn": "2022-03-11T00:39:31Z",
      "side": 1,
      "message": "I haven\u0027t figured out why this is happening yet. It looks like local deployments of chromeperf do show the bot ID. Example [1][2]. However, the actual chromeperf dashboard itself is not showing the information [3] and as you noted. Links 2 and 3 use the exact same build. \n\n[1] https://cloud-build-5b79b29-dot-chromeperf.appspot.com/report?sid\u003d2a513a8a436c956fe85a082b04428365362fa765fe1f88c6c0355169281d4fd0\n\n[2] https://cloud-build-34063a8-dot-chromeperf.appspot.com/report?sid\u003d2a513a8a436c956fe85a082b04428365362fa765fe1f88c6c0355169281d4fd0\n\n[3] https://chromeperf.appspot.com/report?sid\u003d2a513a8a436c956fe85a082b04428365362fa765fe1f88c6c0355169281d4fd0",
      "parentUuid": "2e2efad7_dd7dc40e",
      "range": {
        "startLine": 88,
        "startChar": 12,
        "endLine": 88,
        "endChar": 66
      },
      "revId": "786e1f84be05b71450c65dc21ac04b17a018d2be",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a46e658f_0e45e6fd",
        "filename": "dashboard/dashboard/elements/chart-tooltip.html",
        "patchSetId": 4
      },
      "lineNbr": 88,
      "author": {
        "id": 1373330
      },
      "writtenOn": "2022-03-11T01:08:34Z",
      "side": 1,
      "message": "One of the reason bots are showing up is that not all traffics are going to the upload-processing service with Leina\u0027s change, and thus the bot id may not be added. \n\nAnd I believe the reason we still see \u0027Test Bot(s)\u0027 is that the val read from Row entity is an empty array and ![] is false in JS.",
      "parentUuid": "4ccdf863_f0d57c26",
      "range": {
        "startLine": 88,
        "startChar": 12,
        "endLine": 88,
        "endChar": 66
      },
      "revId": "786e1f84be05b71450c65dc21ac04b17a018d2be",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1c98ffda_2978a76a",
        "filename": "dashboard/dashboard/elements/chart-tooltip.html",
        "patchSetId": 4
      },
      "lineNbr": 88,
      "author": {
        "id": 1181219
      },
      "writtenOn": "2022-03-11T07:24:45Z",
      "side": 1,
      "message": "I did some more investigations on this, but it\u0027s still a mystery why the bot IDs are missing. I can see the bot IDs in entities and in BigQuery tables, but not on perf dashboard.\n\nIt turns out botId was never assigned to, because condition (\u0027a_bot_id\u0027 in annotation) is false. For some reason, !botId doesn\u0027t work if it has never been assigned to. I think we should initialize botId in resetTooltip function in chart-container.html (see my other comment).",
      "parentUuid": "a46e658f_0e45e6fd",
      "range": {
        "startLine": 88,
        "startChar": 12,
        "endLine": 88,
        "endChar": 66
      },
      "revId": "786e1f84be05b71450c65dc21ac04b17a018d2be",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "99a808de_eb473583",
        "filename": "dashboard/dashboard/elements/chart-tooltip.html",
        "patchSetId": 4
      },
      "lineNbr": 88,
      "author": {
        "id": 1521022
      },
      "writtenOn": "2022-03-11T23:03:45Z",
      "side": 1,
      "message": "I set the traffic a few days ago to builds that were deployed around March 4. The CL to push bot ID onto the tool tip took place on March 2, so I don\u0027t think it\u0027s the traffic that\u0027s causing the issue. \n\nI made the resetToolTip revision as John suggested.",
      "parentUuid": "1c98ffda_2978a76a",
      "range": {
        "startLine": 88,
        "startChar": 12,
        "endLine": 88,
        "endChar": 66
      },
      "revId": "786e1f84be05b71450c65dc21ac04b17a018d2be",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}