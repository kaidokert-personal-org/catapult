{
  "comments": [
    {
      "key": {
        "uuid": "f2302729_b8f322d4",
        "filename": "telemetry/telemetry/internal/backends/chrome/android_browser_finder.py",
        "patchSetId": 1
      },
      "lineNbr": 310,
      "author": {
        "id": 1123010
      },
      "writtenOn": "2019-02-14T13:27:34Z",
      "side": 1,
      "message": "this should use os.path.splitext\nhttps://docs.python.org/2/library/os.path.html#os.path.splitext",
      "revId": "51ce70b3abbbb695f518b7cc1bbaa8c771cdb3e6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "736606d2_ee1bc9eb",
        "filename": "telemetry/telemetry/internal/backends/chrome/android_browser_finder.py",
        "patchSetId": 1
      },
      "lineNbr": 310,
      "author": {
        "id": 1154589
      },
      "writtenOn": "2019-02-14T15:37:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f2302729_b8f322d4",
      "revId": "51ce70b3abbbb695f518b7cc1bbaa8c771cdb3e6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9309e3da_8aa3e4f1",
        "filename": "telemetry/telemetry/internal/platform/android_platform_backend.py",
        "patchSetId": 1
      },
      "lineNbr": 377,
      "author": {
        "id": 1123010
      },
      "writtenOn": "2019-02-14T13:27:34Z",
      "side": 1,
      "message": "I think this code should live in device.Install() so it\u0027s available to all devil clients, not just Telemetry.",
      "revId": "51ce70b3abbbb695f518b7cc1bbaa8c771cdb3e6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc35b05c_d1dd8301",
        "filename": "telemetry/telemetry/internal/platform/android_platform_backend.py",
        "patchSetId": 1
      },
      "lineNbr": 377,
      "author": {
        "id": 1154589
      },
      "writtenOn": "2019-02-14T15:37:06Z",
      "side": 1,
      "message": "Done (or, at least, in progress)",
      "parentUuid": "9309e3da_8aa3e4f1",
      "revId": "51ce70b3abbbb695f518b7cc1bbaa8c771cdb3e6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a436b25a_a0052e6e",
        "filename": "telemetry/telemetry/internal/platform/android_platform_backend.py",
        "patchSetId": 1
      },
      "lineNbr": 384,
      "author": {
        "id": 1154589
      },
      "writtenOn": "2019-02-13T17:07:01Z",
      "side": 1,
      "message": "Tibor---\n\nYou mentioned that base-master_2.apk needs to be used sometime. Is there an easy way to determine that, or do you think it would be better to add bundletool support rather than using the existing split APK support in devil?",
      "range": {
        "startLine": 384,
        "startChar": 8,
        "endLine": 384,
        "endChar": 16
      },
      "revId": "51ce70b3abbbb695f518b7cc1bbaa8c771cdb3e6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9307dc1f_103f608f",
        "filename": "telemetry/telemetry/internal/platform/android_platform_backend.py",
        "patchSetId": 1
      },
      "lineNbr": 384,
      "author": {
        "id": 1213279
      },
      "writtenOn": "2019-02-13T17:46:26Z",
      "side": 1,
      "message": "I\u0027d suggest using bundletools extract-apks feature. It extracts all APKs from an .apks archive that should be installed on the device. See [1] on how we do this in our install scripts.\n\n[1] https://cs.chromium.org/chromium/src/build/android/apk_operations.py?rcl\u003d240e9468317543d47aa914fd038d2f8afc4693c6\u0026l\u003d165",
      "parentUuid": "a436b25a_a0052e6e",
      "range": {
        "startLine": 384,
        "startChar": 8,
        "endLine": 384,
        "endChar": 16
      },
      "revId": "51ce70b3abbbb695f518b7cc1bbaa8c771cdb3e6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "864b08cf_7aba8120",
        "filename": "telemetry/telemetry/internal/platform/android_platform_backend.py",
        "patchSetId": 1
      },
      "lineNbr": 384,
      "author": {
        "id": 1154589
      },
      "writtenOn": "2019-02-14T15:37:06Z",
      "side": 1,
      "message": "Thanks. apk_operations is a little hard to trace through. I followed the bundletools help, and ended up doing a sequence of build-apks followed by install-apks. But in this case, the apks generated by build-apks are not signed and install-apks can\u0027t install them. \n\nDo you happen to know where signature information can be found from the build? This step doesn\u0027t appear to be necessary with a conventional apk, presumably because it\u0027s already signed and ready to go.\n\nI\u0027ve uploaded the patch which does that although it\u0027s not finished yet I think.",
      "parentUuid": "9307dc1f_103f608f",
      "range": {
        "startLine": 384,
        "startChar": 8,
        "endLine": 384,
        "endChar": 16
      },
      "revId": "51ce70b3abbbb695f518b7cc1bbaa8c771cdb3e6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "abab9c1e_4b0c5a97",
        "filename": "telemetry/telemetry/internal/platform/android_platform_backend.py",
        "patchSetId": 1
      },
      "lineNbr": 384,
      "author": {
        "id": 1213279
      },
      "writtenOn": "2019-02-14T17:15:40Z",
      "side": 1,
      "message": "See here for how we pass in the signing information to bundletool: https://cs.chromium.org/chromium/src/build/android/pylib/utils/app_bundle_utils.py?rcl\u003dde044a2f3cfbc49d289e7e46f77c594166aa3b1f\u0026l\u003d80.\n- keystore_path: build/android/chromium-debug.keystore\n- keystore_password: chromium\n- keystore_alias: chromiumdebugkey\n\nGenerally, would it help if our build system would generate the APKS archive and devil would just install it?",
      "parentUuid": "864b08cf_7aba8120",
      "range": {
        "startLine": 384,
        "startChar": 8,
        "endLine": 384,
        "endChar": 16
      },
      "revId": "51ce70b3abbbb695f518b7cc1bbaa8c771cdb3e6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}